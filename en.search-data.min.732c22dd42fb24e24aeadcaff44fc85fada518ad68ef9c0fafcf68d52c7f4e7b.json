[{"id":0,"href":"/en/posts/1_first_en_post/","title":"Usage of Hugo Short Codes","section":"Blog","content":"This page shows the usage of hugo shortcodes, especially customized shortcodes.\nHint # A customized shortcode based on hugo book theme.\nThere are 3 levels of hint: info warning and danger. And could be used like this:\n{{\u0026lt; hint info \u0026gt;}} This is customized shortcode `hint`, based on theme [Hugo Book](#hint). {{\u0026lt; /hint \u0026gt;}} Rendered as this:\n“ This is customized shortcode hint, based on theme Hugo Book.\n⨷ This is warning.\nmarkdown is still working\n✘ Danger Zone. Link\nQuote # quote is real quotation. With new font style and text format. quote can be used when you quoting some classical literatures. Like:\n{{\u0026lt; quote \u0026gt;}} 相见欢·林花谢了春红 南唐·李煜 林花谢了春红，太匆匆。无奈朝来寒雨晚来风。 胭脂泪，相留醉，自是人生长恨水长东。 {{\u0026lt; /quote \u0026gt;}} Gives this:\n“ 相见欢·林花谢了春红 〔南唐〕 李煜 林花谢了春红，太匆匆。无奈朝来寒雨晚来风。\n胭脂泪，相留醉，自是人生长恨水长东。\nIf you want to make title and author placed in middle, use a boolean parameter true.\nSome ancient China Ci has a preface, you can make it font-size smaller than main text, use a \u0026lt;small\u0026gt; tag.\n{{\u0026lt; quote true \u0026gt;}} 摸鱼儿 金·元好问 \u0026lt;small\u0026gt;乙丑岁赴试并州...\u0026lt;p\u0026gt;\u0026lt;/small\u0026gt; // ... {{\u0026lt; /quote \u0026gt;}} “ 摸鱼儿 〔金〕 元好问 乙丑岁赴试并州，道逢捕雁者云：“今旦获一雁，杀之矣。其脱网者悲鸣不能去，竟自投于地而死。”予因买得之，葬之汾水之上，垒石为识，号曰“雁丘”。时同行者多为赋诗，予亦有《雁丘词》。旧所作无宫商，今改定之。\n问世间，情是何物，直教生死相许？天南地北双飞客，老翅几回寒暑。欢乐趣，离别苦，就中更有痴儿女。君应有语：渺万里层云，千山暮雪，只影向谁去？\n横汾路，寂寞当年箫鼓，荒烟依旧平楚。招魂楚些何\njiē 嗟 及，山鬼暗啼风雨。天也妒，未信与，莺儿燕子俱黄土。千秋万古，为留待骚人，狂歌痛饮，来访雁丘处。\nAddtionally, you can place all contents in middle.\nJust one more boolean parameter. (:-\n{{\u0026lt; quote true true \u0026gt;}} Sonnet 8 William Shakespeare Music to hear, why hear\u0026#39;st thou music sadly? Sweets with sweets war not, joy delights in joy. 长相思，摧心肝。 // ... {{\u0026lt; /quote \u0026gt;}} “ 长相思（其一） 〔唐〕 李白 长相思，在长安。\n络纬秋啼金井阑，微霜凄凄\ndiàn 簟 色寒。\n孤灯不明思欲绝，卷帷望月空长叹。\n美人如花隔云端。\n上有青冥之长天，下有渌水之波澜。\n天长路远魂飞苦，梦魂不到关山难。\n长相思，摧心肝。\n“ Sonnet 8 〔William Shakespeare〕 Music to hear, why hear'st thou music sadly?\nSweets with sweets war not, joy delights in joy.\nWhy lovest thou that which thou receivest not gladly,\nOr else receivest with pleasure thine annoy?\nIf the true concord of well-tuned sounds,\nBy unions married, do offend thine ear,\nThey do but sweetly chide thee, who confounds\nIn singleness the parts that thou shouldst bear.\nMark how one string, sweet husband to another,\nStrikes each in each by mutual ordering,\nResembling sire and child and happy mother\nWho all in one, one pleasing note do sing:\nWhose speechless song, being many, seeming one,\nSings this to thee: 'thou single wilt prove none.'\nHighlight Code # It's not the syntax highlighting, It's code line highlighting.\n“ The code syntax highlight should be preset, and enabled by default.\nBesides, you can customized them by using hugo to generate a code syntax style sheet:\nhugo gen chromastyles --style=themename \u0026gt; syntax.css Hugo supports chroma style code fence themes.\nHere is the discusstion about syntax highlight: https://discourse.gohugo.io/t/unable-to-customize-the-syntax-highlight-colors/22140/4\n2 ways to achieve that.\nFirst approach is to setting highlight format in code fence, not recommended:\n``` python {linenos=inline,hl_lines=[3, \u0026#34;7-10\u0026#34;],linenostart=1} # ... Gives this:\n1def incr_with_x_threads(x, func, n): 2 # 列表推导式 3 threads = [Thread(target=func, args=(n,)) for i in range(x)] 4 start = time.time() 5 global shared_int 6 shared_int = 0 7 for t in threads: 8 t.start() 9 for t in threads: 10 t.join() 11 print(f\u0026#34;finished in {time.time() - start}\\n\u0026#34; 12 f\u0026#34;shared expected: {n * x}\\n\u0026#34; 13 f\u0026#34;shared actual: {shared_int}\\n\u0026#34; 14 f\u0026#34;difference: {n * x - shared_int}({100 - shared_int / n / x * 100}%)\u0026#34;) The way it configs the highlight line numbers is strange1. Isn't it?\nSecond way is recommended: using shortcode highlight.\nThis shortcode accepts 2 params:\nthe 1st one specifies the coding language, the 2nd param specifies line numbers to be highlighted. {{\u0026lt; highlight python \u0026#34;1 5-7\u0026#34; \u0026gt;}} def copy_file(target, dest): if os.path.exists(target) and os.path.isfile(target): if not os.path.exists(dest) or not os.path.isfile(dest): df = open(dest, \u0026#39;+xb\u0026#39;) with open(target, \u0026#39;rb\u0026#39;) as tf: while len((buffer := tf.read(1024))) \u0026gt; 0: df.write(buffer) df.close() else: print(\u0026#34;dest file exists.\u0026#34;) else: raise FileNotFoundError(\u0026#34;target file not found.\u0026#34;) {{\u0026lt; /highlight \u0026gt;}} Gives this:\n1def copy_file(target, dest): 2 if os.path.exists(target) and os.path.isfile(target): 3 if not os.path.exists(dest) or not os.path.isfile(dest): 4 df = open(dest, \u0026#39;+xb\u0026#39;) 5 with open(target, \u0026#39;rb\u0026#39;) as tf: 6 while len((buffer := tf.read(1024))) \u0026gt; 0: 7 df.write(buffer) 8 df.close() 9 else: 10 print(\u0026#34;dest file exists.\u0026#34;) 11 else: 12 raise FileNotFoundError(\u0026#34;target file not found.\u0026#34;) The code comments can also be highlighted.\n1/* 2It\u0026#39;s been a long day 3Without you my friend 4And I will tell you all about it when I see you again 5We\u0026#39;ve come a lone way 6From where we began 7And I will tell you all about it when I see you again 8*/ 9public static void main(String[] args){ 10 // ... 11 System.out.printf(\u0026#34;the cost of %s is %.2f\u0026#34;, \u0026#34;cola\u0026#34;, 1.99f); 12} Highlight Line # Customized a new shortcode named highline, which is used to highlight current paragraph.\nIt's simple to use:\n{{\u0026lt; highline \u0026gt;}} This line is **highlight**. {{\u0026lt; /highline \u0026gt;}} Gives this:\nThis line is highlight.\nAnd this line is normal.\nUpdate Info # A customized shortcode to add update tags to page. Simple to use:\n{{\u0026lt; update 2024-09-19 \u0026gt;}} This is page update info. {{\u0026lt; /update \u0026gt;}} Updated 2024-09-19 This is page update info.\nAudio # There are many ways to play audio on HTML. Here are 2 simple solution(3rd opensource api used).\nA simple audio player implmented by plyr:\n{{\u0026lt; audio \u0026#34;/audio/宋冬野-安和桥.mp3\u0026#34; \u0026#34;安和桥-宋冬野\u0026#34; \u0026gt;}} 安和桥-宋冬野 Another simple music player implemented by APlayer:\naplayer shortcode was used as hugo module, and it's quite easy to use, just import the module.\n“ The aplayer shortcode need a / before ending, else you need to add another close tag, do not know why.\n{{\u0026lt; aplayer name=\u0026#34;安和桥\u0026#34; artist=\u0026#34;宋冬野\u0026#34; url=\u0026#34;/audio/宋冬野-安和桥.mp3\u0026#34; cover=\u0026#34;/audio/anheqiao.jpg\u0026#34; /\u0026gt;}} hl_lines=[3, \u0026quot;4-6\u0026quot;]？Why number ahead and string behiend(double quoted)?\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n"},{"id":1,"href":"/en/about/","title":"About","section":"Home","content":" The name # A studio album released by Pink Floyed in November 2014 was named The Endless River. Known as the last album by the famous England rock band. Also the band I love the most personally. So, I use 'endlessriver' as my personal blog name, showing respect to their great contribution to the modern music era.\nBy the way, High Hopes is my beloved through all rocks I ever listened. ^=^\nThe blog # The blog was built around late 2019, driven by a Golang static blog generator named Hugo. And Zoo was the theme at the very begining. Almost 4 years later, I chose Book theme as substitute to make it simple. The thing I want to do was focus on content itself but not the conten style. Though it really took my time to customize some tiny features like front-mata, copyright, back-to-top etcetra.\nAnd yet, the srollspy TOC was still in the air. :-)\nThe content # Most contents were like Learning Notes, especially those contents about Java/Python. Contents were written after reading Books like TIJ, TIP, or offical docs about all programming languages, or referring to excellent blogs writtern by others.\nAll code snipptes showed in contents can be find in this Repo.\nDue to this, this blog looks more like a doc page, which theme Book is desgined for docs.\nAlso, there are some 'practical guides' type contents, but not that much. I should write more blogs like that, I think. /*\\\nBesides, I was thought to translate some English posts. Now I perfer to quote them or write some.\nThe author # Learning coding all by self, by passion, by love. But obstacles everywhere. Don't know how long can I persist in doing this. Sounds sad, but it's truth. (-:\n"}]
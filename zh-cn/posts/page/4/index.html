<!doctype html><html lang=zh-CN dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://wangy325.github.io/zh-cn/posts/"><meta property="og:site_name" content="xf&pl"><meta property="og:title" content="Blog"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="website"><title>Blog | xf&amp;pl</title>
<link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://wangy325.github.io/zh-cn/posts/><link rel=alternate hreflang=en href=https://wangy325.github.io/en/posts/ title=Blog><link rel=stylesheet href=/book.min.3cf95a1bd697b902b62eb0c72147591c0a33fb3b5f76dc80ccf10bfd26e5a29f.css integrity="sha256-PPlaG9aXuQK2LrDHIUdZHAoz+ztfdtyAzPEL/Sblop8=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/zh-cn.search.min.dbf8ea71cb09507c2a85681839af2897f569ff8b860a636f89074ccfa4a0af44.js integrity="sha256-2/jqccsJUHwqhWgYOa8ol/Vp/4uGCmNviQdMz6Sgr0Q=" crossorigin=anonymous></script><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-HHNKR5H8KN"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-HHNKR5H8KN")}</script><link rel=alternate type=application/rss+xml href=https://wangy325.github.io/zh-cn/posts/index.xml title=xf&pl></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><div class=navi-bar id=navibar><div id=page-title><h2 class=book-brand><a class="flex align-center" href=/zh-cn/><span>xf&amp;pl</span></a></h2></div><div class=page-navi-col><nav><ul><li><a href=/zh-cn/docs/java/>Java</a></li><li><a href=/zh-cn/docs/design_pattern/>DP</a></li><li class=book-section-flat><a href=/zh-cn/docs/note/>Mooc</a></li><li class=book-section-flat><a href=/zh-cn/docs/snippets/>Snippets</a></li></ul><ul><li><a href=/zh-cn/posts/>Blog</a></li><li><a href=/zh-cn/archive/>Archive</a></li></ul></nav></div><div class="book-search hidden"><input type=text id=book-search-input placeholder=搜索 aria-label=搜索 maxlength=64 data-hotkeys=s/ required pattern=\S+.*>
<span class=clear_search><img src=/svg/close.svg onclick=clearInput()></span><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><script>function clearInput(){document.getElementById("book-search-input").value="";for(var e=document.getElementById("book-search-results");e.firstChild;)e.removeChild(e.firstChild)}</script><ul class=book-languages><li><a class="flex align-center"><img src=/svg/language.svg class=book-icon alt=Languages>
简体中文</a></label><ul><li><a href=https://wangy325.github.io/en/posts/>English</a></li></ul></li></ul></div><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>Blog</h3><label for=toc-control></label></div></header><style>article.markdown.book-post{display:block;padding:1rem;border:1px solid transparent;border-radius:1.5rem;box-shadow:0 2px 1px 1px aliceblue;background-color:#f0f8ff}</style><article class="markdown book-post"><h2><a href=/zh-cn/posts/2021/20210220_use-springboot-messagesource/>在SpringBoot中使用MessageSource</a></h2><div class="postmeta flex align-cneter"><div class="created flex align-cneter"><img src=/svg/calendar-event.svg class=book-icon alt>
<a title='创建者 wangy325'>2021-02-20</a></div><div class="cates flex align-center"><img src=/svg/cates.svg class=book-icon alt>
<a href=/zh-cn/categories/java/>Java</a></div><div class="tags flex align-center"><img src=/svg/tag-alt.svg class=book-icon alt>
<a href=/zh-cn/tags/spring/>Spring
</a><a href=/zh-cn/tags/translation/>Translation</a></div><div class="last-modified flex align center"><img src=/svg/edit.svg class=book-icon alt>
<a title='最后修改者 wangy325-win | 2025-02-25'>2025-02-25</a></div></div><p><blockquote><p><span id=hook>几个说明</span>：</p><ol><li><del>properties配置文件中，<code>spring.messages.basename</code><strong>必须</strong>要加classpath前缀。如 <code>spring.messages.basename=classpath:i18n/messages</code></del>；</li><li><del>必须要手动配置<code>MessageSource</code>，springboot不会自动配置之</del>；</li><li>如果使用<code>MessageSource.getMessage()</code>方法，第一个参数的引用形式为<code>"code"</code>，而不是<code>"{code}"</code>或者<code>"${code}"</code>。如messageSource.getMessage("test.msg", null, <del>Locale.getDefault()</del>)；</li><li>在配置<code>LocalValidatorFactoryBean</code>之后，才可以在<code>javax.validation.constraints</code>包下的注解（<code>@Size</code>，<code>@NotNull</code>...）下的<em><strong>message</strong></em>属性中使用<code>"{code}"</code>的形式声明校验提示信息。如
<code>@NotNull(message = "{leftTime.not.null}")</code>；</li><li>springMVC的locale配置和JVM的locale配置不一样，在application.properties中配置的<code>spring.mvc.locale=zh_CN</code>实际上配置的是<code>WebMvcProperties</code>，在获取消息时，locale信息应该使用<code>webMvcProperties.getLocale()</code><sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>获取<strong>而不是</strong>使用<code>Locale.getDefault()</code>获取。</li></ol></blockquote><hr><p>MessageSource is a powerful feature available in Spring applications. This helps application developers handle various complex scenarios with writing much extra code, such as environment-specific configuration, internationalization or configurable values.</p><p>One more scenario could be modifying the default validation messages to more user-friendly/custom messages.</p><p>In this tutorial, we'll see how to configure and manage custom validation MessageSource in the application using Spring Boot.</p><a href=/zh-cn/posts/2021/20210220_use-springboot-messagesource/>阅读全文 ...</a></p></article><style>article.markdown.book-post{display:block;padding:1rem;border:1px solid transparent;border-radius:1.5rem;box-shadow:0 2px 1px 1px aliceblue;background-color:#f0f8ff}</style><article class="markdown book-post"><h2><a href=/zh-cn/posts/2021/20210210_guide-to-logback-cn/>使用Logback记录日志</a></h2><div class="postmeta flex align-cneter"><div class="created flex align-cneter"><img src=/svg/calendar-event.svg class=book-icon alt>
<a title='创建者 wangy325'>2021-02-10</a></div><div class="cates flex align-center"><img src=/svg/cates.svg class=book-icon alt>
<a href=/zh-cn/categories/java/>Java</a></div><div class="tags flex align-center"><img src=/svg/tag-alt.svg class=book-icon alt>
<a href=/zh-cn/tags/translation/>Translation</a></div><div class="last-modified flex align center"><img src=/svg/edit.svg class=book-icon alt>
<a title='最后修改者 wangy325-win | 2025-02-25'>2025-02-25</a></div></div><p><p><a href=https://logback.qos.ch/>Logback</a>是Java应用中使用最广的日志框架之一，它是
<a href=https://logback.qos.ch/reasonsToSwitch.html>其前辈框架Log4j的替代者</a>。相比Log4j，Logback在日志处理速度、配置多样性、对旧日志文件的处理灵活性上均要优于Log4j。</p><p>这篇文章将介绍Logback的主要组成结构并指导你使用Logback构建更好的程序。</p><a href=/zh-cn/posts/2021/20210210_guide-to-logback-cn/>阅读全文 ...</a></p></article><style>article.markdown.book-post{display:block;padding:1rem;border:1px solid transparent;border-radius:1.5rem;box-shadow:0 2px 1px 1px aliceblue;background-color:#f0f8ff}</style><article class="markdown book-post"><h2><a href=/zh-cn/posts/2021/20210207_%E5%9C%A8SpringBoot%E9%A1%B9%E7%9B%AE%E4%B8%AD%E4%BD%BF%E7%94%A8MockMvc%E8%BF%9B%E8%A1%8C%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/>在SpringBoot项目中使用MockMvc进行接口测试</a></h2><div class="postmeta flex align-cneter"><div class="created flex align-cneter"><img src=/svg/calendar-event.svg class=book-icon alt>
<a title='创建者 wangy325'>2021-02-07</a></div><div class="cates flex align-center"><img src=/svg/cates.svg class=book-icon alt>
<a href=/zh-cn/categories/java/>Java</a></div><div class="tags flex align-center"><img src=/svg/tag-alt.svg class=book-icon alt>
<a href=/zh-cn/tags/spring/>Spring</a></div></div><p><p>现在流行在项目中使用
<a href=https://swagger.io>swagger</a>对接口进行测试，这确实很方便、直观。</p><p>但是MockMvc作为spring-test包中指定的测试框架，在没有使用swagger的项目中，使用其进行测试是很好的选择。</p><a href=/zh-cn/posts/2021/20210207_%E5%9C%A8SpringBoot%E9%A1%B9%E7%9B%AE%E4%B8%AD%E4%BD%BF%E7%94%A8MockMvc%E8%BF%9B%E8%A1%8C%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/>阅读全文 ...</a></p></article><style>article.markdown.book-post{display:block;padding:1rem;border:1px solid transparent;border-radius:1.5rem;box-shadow:0 2px 1px 1px aliceblue;background-color:#f0f8ff}</style><article class="markdown book-post"><h2><a href=/zh-cn/posts/2021/20210202_java-new-time-api/>Java8日期和时间API</a></h2><div class="postmeta flex align-cneter"><div class="created flex align-cneter"><img src=/svg/calendar-event.svg class=book-icon alt>
<a title='创建者 wangy325'>2021-02-02</a></div><div class="cates flex align-center"><img src=/svg/cates.svg class=book-icon alt>
<a href=/zh-cn/categories/java/>Java</a></div><div class="last-modified flex align center"><img src=/svg/edit.svg class=book-icon alt>
<a title='最后修改者 wangy325-win | 2025-03-02'>2025-03-02</a></div></div><p><blockquote><p>mybatis自 3.4.5 开始，已经支持使用<code>LocaldateTime</code>作为时间查询入参，映射类型为<code>TimeStamp</code>，参考地址:
<a href=https://mybatis.org/mybatis-3/zh/configuration.html#typeHandlers>https://mybatis.org/mybatis-3/zh/configuration.html#typeHandlers</a></p></blockquote><h1 id=1-前言>1 前言
<a class=anchor href=#1-%e5%89%8d%e8%a8%80>#</a></h1><p>在介绍Java SE 8中新的日期时间库前，先了解下Java 8之前的日期时间工具的诟病。</p><p>在Java SE 8前，日期时间工具库在<code>java.util</code>包中，包括：</p><ul><li><code>java.util.Date</code>：表示日期和时间</li><li><code>java.util.Calendar</code>以及其实现子类：表示各种日历系统，常用的是格林威治日历<code>java.util.GregorianCalendar</code></li><li><code>java.util.TimeZone</code>以及其实现子类：表示时区偏移量和夏令时</li></ul><p>以及辅助其进行格式化和解析的工具库在java.text包中，包括：</p><ul><li><code>java.text.DateFormat</code>：格式化日期时间和解析日期时间的工具抽象类</li><li><code>java.text.SimpleDateFormat</code>：DateDateFormat的实现</li></ul><a href=/zh-cn/posts/2021/20210202_java-new-time-api/>阅读全文 ...</a></p></article><style>article.markdown.book-post{display:block;padding:1rem;border:1px solid transparent;border-radius:1.5rem;box-shadow:0 2px 1px 1px aliceblue;background-color:#f0f8ff}</style><article class="markdown book-post"><h2><a href=/zh-cn/posts/2021/20210125_xxl-sharding-job/>在xxl-job中使用分片任务</a></h2><div class="postmeta flex align-cneter"><div class="created flex align-cneter"><img src=/svg/calendar-event.svg class=book-icon alt>
<a title='创建者 wangy325'>2021-01-25</a></div><div class="cates flex align-center"><img src=/svg/cates.svg class=book-icon alt>
<a href=/zh-cn/categories/java/>Java</a></div><div class="tags flex align-center"><img src=/svg/tag-alt.svg class=book-icon alt>
<a href=/zh-cn/tags/crontab/>Crontab</a></div><div class="last-modified flex align center"><img src=/svg/edit.svg class=book-icon alt>
<a title='最后修改者 wangy325-win | 2025-02-25'>2025-02-25</a></div></div><p><p>本文介绍在如何在
<a href=https://www.xuxueli.com/xxl-job/#%E3%80%8A%E5%88%86%E5%B8%83%E5%BC%8F%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0XXL-JOB%E3%80%8B>xxl-job</a>中使用创建并使用分片任务。</p><p><code>xxl-job</code>是国内开源的一款轻量级分布式任务调度平台，开发者是大众点评的工程师，其目前维护一个
<a href=https://www.xuxueli.com/>开源社区</a>，里面还有很多已经发布或尚在孵化的开源项目。</p><a href=/zh-cn/posts/2021/20210125_xxl-sharding-job/>阅读全文 ...</a></p></article><style>article.markdown.book-post{display:block;padding:1rem;border:1px solid transparent;border-radius:1.5rem;box-shadow:0 2px 1px 1px aliceblue;background-color:#f0f8ff}</style><article class="markdown book-post"><h2><a href=/zh-cn/posts/2020/20201210_how2use-printf/>使用printf格式化输出</a></h2><div class="postmeta flex align-cneter"><div class="created flex align-cneter"><img src=/svg/calendar-event.svg class=book-icon alt>
<a title='创建者 wangy325'>2020-12-10</a></div><div class="cates flex align-center"><img src=/svg/cates.svg class=book-icon alt>
<a href=/zh-cn/categories/java/>Java</a></div><div class="tags flex align-center"><img src=/svg/tag-alt.svg class=book-icon alt>
<a href=/zh-cn/tags/translation/>Translation</a></div><div class="last-modified flex align center"><img src=/svg/edit.svg class=book-icon alt>
<a title='最后修改者 wangy325-win | 2025-03-02'>2025-03-02</a></div></div><p><p>这篇文章介绍了几种常见的使用<code>printf()</code>方法进行格式化输出的方法。</p><p><code>printf()</code>方法隶属于<code>java.io.PrintStream</code>类，提供了和C语言中相似的格式化字符串输出的方法。</p><a href=/zh-cn/posts/2020/20201210_how2use-printf/>阅读全文 ...</a></p></article><style>article.markdown.book-post{display:block;padding:1rem;border:1px solid transparent;border-radius:1.5rem;box-shadow:0 2px 1px 1px aliceblue;background-color:#f0f8ff}</style><article class="markdown book-post"><h2><a href=/zh-cn/posts/2020/20201204_01%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%982%E4%BE%8B/>背包问题2例</a></h2><div class="postmeta flex align-cneter"><div class="created flex align-cneter"><img src=/svg/calendar-event.svg class=book-icon alt>
<a title='创建者 wangy325'>2020-12-04</a></div><div class="cates flex align-center"><img src=/svg/cates.svg class=book-icon alt>
<a href=/zh-cn/categories/java/>Java
</a><a href=/zh-cn/categories/algo/>Algo</a></div></div><p><p>背包问题其实属于
<a href=https://zh.wikipedia.org/wiki/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92>动态规划</a>（ <em>Dynamic Programming</em> ）问题的一种。动态规划的手段是将大问题拆解为多个小问题，小问题解决之后，大问题也就随之而解。</p><p>背包问题的典型描述是：</p><blockquote><p>给定<code>n</code>种物品和一背包。物品<code>i</code>的重量为<code>wi</code>，其价值为<code>vi</code>，背包的容量为<code>c</code>。</p><p>问应该如何选择装入背包中的物品，使得装入背包中物品的总价值最大？</p></blockquote><a href=/zh-cn/posts/2020/20201204_01%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%982%E4%BE%8B/>阅读全文 ...</a></p></article><style>article.markdown.book-post{display:block;padding:1rem;border:1px solid transparent;border-radius:1.5rem;box-shadow:0 2px 1px 1px aliceblue;background-color:#f0f8ff}</style><article class="markdown book-post"><h2><a href=/zh-cn/posts/2020/20201127_MySQL%E4%BA%8B%E5%8A%A1%E4%B8%8E%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/>事务隔离级别与MVCC</a></h2><div class="postmeta flex align-cneter"><div class="created flex align-cneter"><img src=/svg/calendar-event.svg class=book-icon alt>
<a title='创建者 wangy325'>2020-11-27</a></div><div class="cates flex align-center"><img src=/svg/cates.svg class=book-icon alt>
<a href=/zh-cn/categories/mysql/>Mysql</a></div></div><p><p>开发过程中，或多或少会碰到需要使用数据库事务的业务场景，而Spring框架提供的能力使得开发者无需过多地关注事务本身，这带来诸多便利，但也带来弊端：开发者只知其貌，而不知其理，一旦Spring框架抛出异常，便往往手足无措。本文简单地介绍了MySQL事务相关的基本概念，使用例证阐述了不同事务隔离级别下MySQL的数据可见性，简单讨论了MySQL如何保证数据一致性。有了这些基本的概念，遇到事务与数据库锁相关的问题时，开发者能够多一点思考。</p><a href=/zh-cn/posts/2020/20201127_MySQL%E4%BA%8B%E5%8A%A1%E4%B8%8E%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/>阅读全文 ...</a></p></article><style>article.markdown.book-post{display:block;padding:1rem;border:1px solid transparent;border-radius:1.5rem;box-shadow:0 2px 1px 1px aliceblue;background-color:#f0f8ff}</style><article class="markdown book-post"><h2><a href=/zh-cn/posts/2020/20201124_redis-all/>redis必知必会(转)</a></h2><div class="postmeta flex align-cneter"><div class="created flex align-cneter"><img src=/svg/calendar-event.svg class=book-icon alt>
<a title='创建者 wangy325'>2020-11-24</a></div><div class="cates flex align-center"><img src=/svg/cates.svg class=book-icon alt>
<a href=/zh-cn/categories/redis/>Redis</a></div><div class="last-modified flex align center"><img src=/svg/edit.svg class=book-icon alt>
<a title='最后修改者 wangy | 2025-03-30'>2025-03-30</a></div></div><p><p>简单来说 <strong>Redis 就是一个使用 C 语言开发的数据库</strong>，不过与传统数据库不同的是 <strong>Redis 的数据是存在内存中的</strong> ，也就是它是内存数据库，所以读写速度非常快，因此 Redis 被广泛应用于缓存方向。</p><a href=/zh-cn/posts/2020/20201124_redis-all/>阅读全文 ...</a></p></article><style>article.markdown.book-post{display:block;padding:1rem;border:1px solid transparent;border-radius:1.5rem;box-shadow:0 2px 1px 1px aliceblue;background-color:#f0f8ff}</style><article class="markdown book-post"><h2><a href=/zh-cn/posts/2020/20201123_bloom-filter/>布隆过滤器(转)</a></h2><div class="postmeta flex align-cneter"><div class="created flex align-cneter"><img src=/svg/calendar-event.svg class=book-icon alt>
<a title='创建者 wangy325'>2020-11-23</a></div><div class="cates flex align-center"><img src=/svg/cates.svg class=book-icon alt>
<a href=/zh-cn/categories/redis/>Redis</a></div><div class="last-modified flex align center"><img src=/svg/edit.svg class=book-icon alt>
<a title='最后修改者 wangy325-win | 2025-02-25'>2025-02-25</a></div></div><p><p>海量数据处理以及缓存穿透这两个场景让我认识了 布隆过滤器 ，我查阅了一些资料来了解它，但是很多现成资料并不满足我的需求，所以就决定自己总结一篇关于布隆过滤器的文章。希望通过这篇文章让更多人了解布隆过滤器，并且会实际去使用它！</p><p>下面我们将分为几个方面来介绍布隆过滤器：</p><ol><li>什么是布隆过滤器？</li><li>布隆过滤器的原理介绍。</li><li>布隆过滤器使用场景。</li><li>通过 Java 编程手动实现布隆过滤器。</li><li>利用Google开源的Guava中自带的布隆过滤器。</li><li>Redis 中的布隆过滤器。</li></ol><a href=/zh-cn/posts/2020/20201123_bloom-filter/>阅读全文 ...</a></p></article><ul class=pagination><li class=page_navi><a href=/zh-cn/posts/>首页</a></li><li class=page_navi><a href=/zh-cn/posts/page/3/>上一页</a></li><li class=page_navi><a href=/zh-cn/posts/page/2/>2</a></li><li class=page_navi><a href=/zh-cn/posts/page/3/>3</a></li><li class="page_current page_navi">4</li><li class=page_navi><a href=/zh-cn/posts/page/5/>5</a></li><li class=page_navi><a href=/zh-cn/posts/page/6/>6</a></li><li class=page_navi><a href=/zh-cn/posts/page/5/>下一页</a></li><li class=page_navi><a href=/zh-cn/posts/page/6/>尾页</a></li></ul><div class=copyright><hr class=cline><p>Notes and Memos by wangy325
<a href=https://creativecommons.org/licenses/by/4.0/deed.en title="Creative Commons Attribution">&copy; CC BY 4.0</a></p><p>2019-2026. Powered by
<a href=https://github.com/alex-shpak/hugo-book>Hugo Book</a>
Presented by GitHub.</p></div><label for=menu-control class="hidden book-menu-overlay"></label></div></main><div class=back-to-top><div id=back-to-top><img src=/svg/chevrons-up.svg srcset="/svg/chevrons-up.svg 500w" onclick=topFunction() class=black>
<img title=回到顶部 src=/svg/chevrons-up-blue.svg srcset="/svg/chevrons-up-blue.svg 500w" onclick=topFunction() class=blue></div><script>let mybutton=document.getElementById("back-to-top");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>500||document.documentElement.scrollTop>500?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){window.scrollTo({top:0,behavior:"smooth"})}</script></div><script src=/js/scroll-listening.js></script></body></html>
<!doctype html><html lang=zh-CN dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="想换一个更加简洁的博客主题，也是觉得原来的
  Zzo主题两侧的留白过于浪费空间，且配色，有些腻了。
不过，这主题用了很久了，且hugo版本也更新得不像样子了，新主题与旧版本的hugo并不兼容，故一并更新了hugo和主题的版本，这一顿折腾，应该又能撑2年吧。"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://wangy325.github.io/zh-cn/posts/2024/20240612_%E6%9B%B4%E6%8D%A2%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98/"><meta property="og:site_name" content="xf&pl"><meta property="og:title" content="更换个人博客主题"><meta property="og:description" content="想换一个更加简洁的博客主题，也是觉得原来的 Zzo主题两侧的留白过于浪费空间，且配色，有些腻了。
不过，这主题用了很久了，且hugo版本也更新得不像样子了，新主题与旧版本的hugo并不兼容，故一并更新了hugo和主题的版本，这一顿折腾，应该又能撑2年吧。"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-06-12T00:00:00+08:00"><meta property="article:modified_time" content="2024-06-12T00:00:00+08:00"><meta property="article:tag" content="Hugo"><title>更换个人博客主题 | xf&amp;pl</title>
<link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://wangy325.github.io/zh-cn/posts/2024/20240612_%E6%9B%B4%E6%8D%A2%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98/><link rel=stylesheet href=/book.min.dc7b67613526b8d54c97dc54357067bc78ca03922ac3d66ac764ed621486ec48.css integrity="sha256-3HtnYTUmuNVMl9xUNXBnvHjKA5Iqw9Zqx2TtYhSG7Eg=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/zh-cn.search.min.65e7e7e06dcefc1c6073cbcc2be10d85a52b896ba9159689decb413f5f9858d6.js integrity="sha256-Zefn4G3O/Bxgc8vMK+ENhaUriWupFZaJ3stBP1+YWNY=" crossorigin=anonymous></script><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-HHNKR5H8KN"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-HHNKR5H8KN")}</script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><div class=navi-bar id=navibar><div id=page-title><h2 class=book-brand><a class="flex align-center" href=/zh-cn/><span>xf&amp;pl</span></a></h2></div><div class=page-navi-col><nav><ul><li><a href=/zh-cn/docs/java/>Java</a></li><li><a href=/zh-cn/docs/design_pattern/>DP</a></li><li class=book-section-flat><a href=/zh-cn/docs/note/>Mooc</a></li><li class=book-section-flat><a href=/zh-cn/docs/snippets/>Snippets</a></li></ul><ul><li><a href=/zh-cn/posts/>Blog</a></li><li><a href=/zh-cn/archive/>Archive</a></li></ul></nav></div><div class="book-search hidden"><input type=text id=book-search-input placeholder=搜索 aria-label=搜索 maxlength=64 data-hotkeys=s/ required pattern=\S+.*>
<span class=clear_search><img src=/svg/close.svg onclick=clearInput()></span><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><script>function clearInput(){document.getElementById("book-search-input").value="";for(var e=document.getElementById("book-search-results");e.firstChild;)e.removeChild(e.firstChild)}</script><ul class=book-languages><li><a class="flex align-center"><img src=/svg/language.svg class=book-icon alt=Languages>
简体中文</a></label><ul><li><a href=https://wangy325.github.io/en/>English</a></li></ul></li></ul></div><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>更换个人博客主题</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><div id=toc-new><ul class=nav><li class=nav-item><a id=t更新hugo至最新版 href=javascript:void(0) onclick='return scrolly("更新hugo至最新版"),!1'>更新hugo至最新版</a></li><li class=nav-item><a id=t引入新选定的主题 href=javascript:void(0) onclick='return scrolly("引入新选定的主题"),!1'>引入新选定的主题</a></li><li class=nav-item><a id=t使用到的一些小技巧 href=javascript:void(0) onclick='return scrolly("使用到的一些小技巧"),!1'>使用到的一些小技巧</a><ul class=nav><li class=nav-item><a id=t主页的元素 href=javascript:void(0) onclick='return scrolly("主页的元素"),!1'>主页的元素</a></li><li class=nav-item><a id=t指定页面隐藏页脚 href=javascript:void(0) onclick='return scrolly("指定页面隐藏页脚"),!1'>指定页面隐藏页脚</a></li></ul></li><li class=nav-item><a id=t参考 href=javascript:void(0) onclick='return scrolly("参考"),!1'>参考</a></li></ul></div><script>function scrolly(e){const t=40;var n=document.getElementById(e).offsetTop;window.scrollTo({top:n+t,behaviour:"smooth"})}</script></aside></header><article class="markdown book-post"><h1>更换个人博客主题</h1><div class="postmeta flex align-cneter" style=justify-content:center><div class="created flex align-cneter"><img src=/svg/calendar-event.svg class=book-icon alt>
<a title='创建者 wangy325'>2024-06-12</a></div><div class="cates flex align-center"><img src=/svg/cates.svg class=book-icon alt>
<a href=/zh-cn/categories/utility/>Utility</a></div><div class="tags flex align-center"><img src=/svg/tag-alt.svg class=book-icon alt>
<a href=/zh-cn/tags/hugo/>Hugo</a></div></div><p>想换一个更加简洁的博客主题，也是觉得原来的
<a href=https://github.com/zzossig/hugo-theme-zzo.git>Zzo主题</a>两侧的留白过于浪费空间，且配色，有些腻了。</p><p>不过，这主题用了很久了，且hugo版本也更新得不像样子了，新主题与旧版本的hugo并不兼容，故一并更新了hugo和主题的版本，这一顿折腾，应该又能撑2年吧。</p><h2 id=更新hugo至最新版>更新hugo至最新版
<a class=anchor href=#%e6%9b%b4%e6%96%b0hugo%e8%87%b3%e6%9c%80%e6%96%b0%e7%89%88>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=ln>1</span><span class=cl>brew upgrade hugo
</span></span></code></pre></div><p>如果并没有更新hugo到最新版本，试试<code>brew update</code>先更新homebrew。</p><p>开始前先给zzo来个照片作为留恋吧⏳</p><p><img src=/img/old/SCR-20240614-wfi0.jpg alt=img></p><p>版本更新之后，有些东西，必定要被丢弃的。</p><p>新主题的组织形式不同于前者，配置简化许多，目录格式的需求也不一致，因此，不可能是两者兼容的了。</p><h2 id=引入新选定的主题>引入新选定的主题
<a class=anchor href=#%e5%bc%95%e5%85%a5%e6%96%b0%e9%80%89%e5%ae%9a%e7%9a%84%e4%b8%bb%e9%a2%98>#</a></h2><p>此次选中的主题是
<a href="https://github.com/alex-shpak/hugo-book?tab=readme-ov-file">hugo-book</a>，琢磨一阵子这个主题后，发现它更加合适用作文档页😂。不过没关系，足够简洁就行了。</p><p>值得诟病的一点是，这个主题没有对原生
<a href=https://mermaid.js.org/syntax/classDiagram.html>mermaid</a>的支持，必须使用它指定的格式（称作feature），这样一来，后续如果要换主题的话，又是一顿改改改。</p><p>不过话说回来，如果这次闹腾完后，博客不怎么更新的话，这主题就随着一起入土吧❗️</p><p>依旧把主题作为新的Git子模块引入：</p><pre tabindex=0><code>git submodule add https://github.com/alex-shpak/hugo-book themes/hugo-book
</code></pre><p>接下来就是配置了，主要是文件目录组织结构。<code>hugo.yaml</code>配置有现成的，没什么可说的。目录结构参考
<a href=https://hugo-book-demo.netlify.app/posts/>exampleSite</a>琢磨琢磨也差不多了。</p><p>使用这个主题的话，页面的<code>front matter</code>可以简洁一点：</p><pre tabindex=0><code>title: &#34; &#34;
date: 2019-08-31
author: &#34;wangy325&#34;
weight: 5
draft:
description: &#34;&#34;
bookHidden: 
bookToC:
bookComments:
</code></pre><p>一般使用前4个标签就行了，<code>weight</code>用来控制列表顺序，越小越靠前。后面的标签根据喜好添加。</p><p>其次需要自己捣鼓的就是每个“标签”下的<code>_index.md</code>文件。</p><p>总体使用是非常简单的。</p><h2 id=使用到的一些小技巧>使用到的一些小技巧
<a class=anchor href=#%e4%bd%bf%e7%94%a8%e5%88%b0%e7%9a%84%e4%b8%80%e4%ba%9b%e5%b0%8f%e6%8a%80%e5%b7%a7>#</a></h2><h3 id=主页的元素>主页的元素
<a class=anchor href=#%e4%b8%bb%e9%a1%b5%e7%9a%84%e5%85%83%e7%b4%a0>#</a></h3><p>主页的元素使用了
<a href=https://github.com/kittinan/spotify-github-profile>spotify-github-profile</a>这个项目提供的API，直接引入的代码。</p><h3 id=指定页面隐藏页脚>指定页面隐藏页脚
<a class=anchor href=#%e6%8c%87%e5%ae%9a%e9%a1%b5%e9%9d%a2%e9%9a%90%e8%97%8f%e9%a1%b5%e8%84%9a>#</a></h3><p>主页不同于其他页面，不需要展示<code>gitInfo</code>，但是全局开启了这个功能，且主题并没有提供单独的开关来控制是否加载<code>partial</code>代码片段。
不过，可以自定义一个参数，来实现这个功能。复制主题的<code>layouts/_default</code>目录到博客目录下，然后修改<code>baseof.html</code>文件，在里面加载
页脚的代码里添加自定义参数即可。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=ln>1</span><span class=cl>    {{ if default true (default .Site.Params.BookFooter  .Params.BookFooter)}}
</span></span><span class=line><span class=ln>2</span><span class=cl>    <span class=p>&lt;</span><span class=nt>footer</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;book-footer&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>    {{ template &#34;footer&#34; . }} <span class=c>&lt;!-- Footer under page content --&gt;</span>
</span></span><span class=line><span class=ln>4</span><span class=cl>    {{ partial &#34;docs/inject/footer&#34; . }}
</span></span><span class=line><span class=ln>5</span><span class=cl>    <span class=p>&lt;/</span><span class=nt>footer</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>6</span><span class=cl>    {{ end }}
</span></span></code></pre></div><p>如上，添加了一个参数<code>BookFooter</code>来控制是否加载页脚。</p><h2 id=参考>参考
<a class=anchor href=#%e5%8f%82%e8%80%83>#</a></h2><ol><li><a href=https://discourse.gohugo.io/t/remove-footer-and-header/44347>Hugo: remove footer and header</a></li></ol></article><div class=next-prev><hr><div class="page-navi flex" id=pagenavi><div class=pre-page>←
<a href=https://wangy325.github.io/zh-cn/posts/2024/20240615_%E4%B8%BB%E5%8A%A8%E6%89%98%E7%AE%A1Clash%E9%85%8D%E7%BD%AE/>主动管理Clash的代理配置</a></div><div class=next-page><a href=https://wangy325.github.io/zh-cn/posts/2024/20240606_Rime%E4%B8%AD%E5%B7%9E%E9%9F%BB%E8%BC%B8%E5%85%A5%E5%BC%95%E6%93%8E%E5%AE%89%E8%A3%9D%E8%88%87%E7%B0%A1%E5%96%AE%E8%AA%BF%E6%95%99/>Rime中州韻輸入引擎安裝與輸入方案定製指北</a> →</div></div></div><section class=related><div class=rel-title>相似文章</div><div class=rel-items><a href=/zh-cn/posts/2024/20240606_Rime%E4%B8%AD%E5%B7%9E%E9%9F%BB%E8%BC%B8%E5%85%A5%E5%BC%95%E6%93%8E%E5%AE%89%E8%A3%9D%E8%88%87%E7%B0%A1%E5%96%AE%E8%AA%BF%E6%95%99/ class=related__link><div>Rime中州韻輸入引擎安裝與輸入方案定製指北</div></a></div><hr></section><div class=book-comments><div class=giscus-thread></div><script src=https://giscus.app/client.js data-repo=wangy325/wangy325.github.io data-repo-id=R_kgDOHhhDZg data-category=Announcements data-category-id=DIC_kwDOHhhDZs4ChbMn data-mapping=og:title data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=noborder_light data-loading=lazy data-lang=zh-CN crossorigin=anonymous async></script></div><div class=copyright><hr class=cline><p>Notes and Memos by wangy325
<a href=https://creativecommons.org/licenses/by/4.0/deed.en title="Creative Commons Attribution">&copy; CC BY 4.0</a></p><p>2019-2025. Powered by
<a href=https://github.com/alex-shpak/hugo-book>Hugo Book</a>
Presented by Github.</p></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><div id=toc-new><ul class=nav><li class=nav-item><a id=t更新hugo至最新版 href=javascript:void(0) onclick='return scrolly("更新hugo至最新版"),!1'>更新hugo至最新版</a></li><li class=nav-item><a id=t引入新选定的主题 href=javascript:void(0) onclick='return scrolly("引入新选定的主题"),!1'>引入新选定的主题</a></li><li class=nav-item><a id=t使用到的一些小技巧 href=javascript:void(0) onclick='return scrolly("使用到的一些小技巧"),!1'>使用到的一些小技巧</a><ul class=nav><li class=nav-item><a id=t主页的元素 href=javascript:void(0) onclick='return scrolly("主页的元素"),!1'>主页的元素</a></li><li class=nav-item><a id=t指定页面隐藏页脚 href=javascript:void(0) onclick='return scrolly("指定页面隐藏页脚"),!1'>指定页面隐藏页脚</a></li></ul></li><li class=nav-item><a id=t参考 href=javascript:void(0) onclick='return scrolly("参考"),!1'>参考</a></li></ul></div><script>function scrolly(e){const t=40;var n=document.getElementById(e).offsetTop;window.scrollTo({top:n+t,behaviour:"smooth"})}</script></div></aside></main><div class=back-to-top><div id=back-to-top><img src=/svg/chevrons-up.svg srcset="/svg/chevrons-up.svg 500w" onclick=topFunction() class=black>
<img title=回到顶部 src=/svg/chevrons-up-blue.svg srcset="/svg/chevrons-up-blue.svg 500w" onclick=topFunction() class=blue></div><script>let mybutton=document.getElementById("back-to-top");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>500||document.documentElement.scrollTop>500?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){window.scrollTo({top:0,behavior:"smooth"})}</script></div><script src=/js/scroll-listening.js></script></body></html>
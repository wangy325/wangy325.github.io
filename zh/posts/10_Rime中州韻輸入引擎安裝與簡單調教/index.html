<!doctype html><html lang=zh dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="由于未知的原因很有可能是配置文件错误，使用几年多的Rime（squirrel）输入法发生异常。主要表现为小鹤双拼的键位映射异常（如键入‘budv’的候选词是‘病毒’而不是‘不对’。），检查了许久的配置文件，并没有发现明显异常。距离上次配置Rime已许久，很多细节都已经丢失。一番纠结后，决定再重新调试一下Rime，并作此记录。"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://wangy325.github.io/zh/posts/10_Rime%E4%B8%AD%E5%B7%9E%E9%9F%BB%E8%BC%B8%E5%85%A5%E5%BC%95%E6%93%8E%E5%AE%89%E8%A3%9D%E8%88%87%E7%B0%A1%E5%96%AE%E8%AA%BF%E6%95%99/"><meta property="og:site_name" content="Endless River"><meta property="og:title" content="Rime中州韻輸入引擎安裝與簡單調試記錄"><meta property="og:description" content="由于未知的原因很有可能是配置文件错误，使用几年多的Rime（squirrel）输入法发生异常。主要表现为小鹤双拼的键位映射异常（如键入‘budv’的候选词是‘病毒’而不是‘不对’。），检查了许久的配置文件，并没有发现明显异常。距离上次配置Rime已许久，很多细节都已经丢失。一番纠结后，决定再重新调试一下Rime，并作此记录。"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-06-06T00:00:00+00:00"><meta property="article:modified_time" content="2024-06-06T00:00:00+00:00"><title>Rime中州韻輸入引擎安裝與簡單調試記錄 | Endless River</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png><link rel=canonical href=https://wangy325.github.io/zh/posts/10_Rime%E4%B8%AD%E5%B7%9E%E9%9F%BB%E8%BC%B8%E5%85%A5%E5%BC%95%E6%93%8E%E5%AE%89%E8%A3%9D%E8%88%87%E7%B0%A1%E5%96%AE%E8%AA%BF%E6%95%99/><link rel=stylesheet href=/book.min.309b7ed028807cdb68d8d61e26d609f48369c098dbf5e4d8c0dcf4cdf49feafc.css integrity="sha256-MJt+0CiAfNto2NYeJtYJ9INpwJjb9eTYwNz0zfSf6vw=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/zh.search.min.53058eed9bb7f6bcb909aee6a1345f79ee559c137121daf62d7cf974f5813c7b.js integrity="sha256-UwWO7Zu39ry5Ca7moTRfee5VnBNxIdr2LXz5dPWBPHs=" crossorigin=anonymous></script><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-HHNKR5H8KN"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-HHNKR5H8KN")}</script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/zh/><span>Endless River</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=搜索 aria-label=搜索 maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li class=book-section-flat><a href=/zh/docs/java/>Java核心</a><ul><li><input type=checkbox id=section-287084f81620420b7ed7e40a42c44d2f class=toggle>
<label for=section-287084f81620420b7ed7e40a42c44d2f class="flex justify-between"><a role=button>必知必会</a></label><ul><li><a href=/zh/docs/java/basic/1_%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E7%AC%A6/>访问权限修饰符</a></li><li><a href=/zh/docs/java/basic/2_static%E5%85%B3%E9%94%AE%E5%AD%97/>static关键字</a></li><li><a href=/zh/docs/java/basic/3_%E4%BC%A0%E5%80%BC%E8%BF%98%E6%98%AF%E4%BC%A0%E5%BC%95%E7%94%A8/>传值还是传引用</a></li><li><a href=/zh/docs/java/basic/4_final%E5%85%B3%E9%94%AE%E5%AD%97/>final关键字</a></li><li><a href=/zh/docs/java/basic/5_Object%E8%B6%85%E7%B1%BB/>Object超类</a></li><li><a href=/zh/docs/java/basic/5_%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9A%E4%B8%8E%E9%9D%99%E6%80%81%E7%BB%91%E5%AE%9A/>动态绑定与静态绑定</a></li><li><a href=/zh/docs/java/basic/6_%E6%8A%BD%E8%B1%A1%E7%B1%BB%E4%B8%8E%E6%8E%A5%E5%8F%A3/>抽象类与接口</a></li><li><a href=/zh/docs/java/basic/7_lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/>Lambda表达式与函数式接口</a></li><li><a href=/zh/docs/java/basic/8_%E5%86%85%E9%83%A8%E7%B1%BB/>内部类</a></li><li><a href=/zh/docs/java/basic/11_java-new-time-api/>Java8日期和时间API</a></li><li><a href=/zh/docs/java/basic/Java%E6%8E%A5%E5%8F%A3%E5%9B%9E%E8%B0%83/>Java接口回调</a></li></ul></li><li><input type=checkbox id=section-3d2f820e49b3d97a7a712be90f9fd6ad class=toggle>
<label for=section-3d2f820e49b3d97a7a712be90f9fd6ad class="flex justify-between"><a role=button>集合框架</a></label><ul><li><a href=/zh/docs/java/collections/1_List/>List列表</a></li><li><a href=/zh/docs/java/collections/2_Queue/>Queue</a></li><li><a href=/zh/docs/java/collections/3_Set/>Set</a></li><li><a href=/zh/docs/java/collections/4_Map/>Java集合框架之Map</a></li><li><a href=/zh/docs/java/collections/5_Collections/>Collections工具类</a></li><li><a href=/zh/docs/java/collections/6_HashMap%E7%9A%84%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/>HashMap的源码分析</a></li></ul></li><li><input type=checkbox id=section-6d6d0626deeb0ce0f9826f9dabe58c16 class=toggle>
<label for=section-6d6d0626deeb0ce0f9826f9dabe58c16 class="flex justify-between"><a role=button>并发</a></label><ul><li><a href=/zh/docs/java/concurrency/1%E7%BA%BF%E7%A8%8B%E4%B8%8E%E4%BB%BB%E5%8A%A1_1/>线程与任务(一)</a></li><li><a href=/zh/docs/java/concurrency/1%E7%BA%BF%E7%A8%8B%E4%B8%8E%E4%BB%BB%E5%8A%A1_2/>线程与任务(二)</a></li><li><a href=/zh/docs/java/concurrency/2%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE%E5%8F%97%E9%99%90_1/>资源访问受限--引论</a></li><li><a href=/zh/docs/java/concurrency/2%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE%E5%8F%97%E9%99%90_2_%E9%94%81%E5%92%8C%E6%9D%A1%E4%BB%B6/>锁和条件</a></li><li><a href=/zh/docs/java/concurrency/2%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE%E5%8F%97%E9%99%90_3_synchronized/>synchronized关键字</a></li><li><a href=/zh/docs/java/concurrency/2%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE%E5%8F%97%E9%99%90_4_%E5%8E%9F%E5%AD%90%E6%80%A7%E4%B8%8E%E5%8E%9F%E5%AD%90%E7%B1%BB/>原子性和可见性</a></li><li><a href=/zh/docs/java/concurrency/2%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE%E5%8F%97%E9%99%90_5_%E7%BA%BF%E7%A8%8B%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/>线程本地存储</a></li><li><a href=/zh/docs/java/concurrency/3%E8%8E%B7%E5%8F%96%E4%BB%BB%E5%8A%A1%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC/>获取任务的返回值</a></li><li><a href=/zh/docs/java/concurrency/4%E6%AD%BB%E9%94%81/>死锁</a></li><li><a href=/zh/docs/java/concurrency/5%E7%BB%88%E7%BB%93%E4%BB%BB%E5%8A%A1/>终结任务</a></li><li><a href=/zh/docs/java/concurrency/6%E7%94%9F%E4%BA%A7%E8%80%85-%E6%B6%88%E8%B4%B9%E8%80%85%E4%B8%8E%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97/>生产者-消费者与阻塞队列</a></li><li><a href=/zh/docs/java/concurrency/7%E6%89%A7%E8%A1%8C%E5%99%A8%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/>执行器与线程池</a></li><li><a href=/zh/docs/java/concurrency/8%E8%AE%A1%E5%88%92%E6%89%A7%E8%A1%8C%E4%BB%BB%E5%8A%A1/>计划执行任务</a></li><li><a href=/zh/docs/java/concurrency/9%E5%85%B6%E4%BB%96%E9%87%8D%E8%A6%81%E7%9A%84%E5%B9%B6%E5%8F%91%E7%BB%84%E4%BB%B6/>一些重要的并发组件</a></li><li><a href=/zh/docs/java/concurrency/10_Java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E4%B8%8Evolatile%E5%85%B3%E9%94%AE%E5%AD%97/>Java内存模型与volatile关键字(转)</a></li></ul></li><li><input type=checkbox id=section-1fe137527ef46393c946fbc7cb576209 class=toggle>
<label for=section-1fe137527ef46393c946fbc7cb576209 class="flex justify-between"><a role=button>JVM</a></label><ul><li><a href=/zh/docs/java/jvm/Java%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E8%AF%A6%E8%A7%A3/>Java内存区域详解(转)</a></li><li><a href=/zh/docs/java/jvm/java-gc/>JVM垃圾回收概要(转)</a></li></ul></li></ul></li><li class=book-section-flat><span>所谓开发</span><ul><li><input type=checkbox id=section-e45ae315fd63ae771fd5cd0bb732cd6a class=toggle>
<label for=section-e45ae315fd63ae771fd5cd0bb732cd6a class="flex justify-between"><a role=button>Spring</a></label><ul><li><a href=/zh/docs/utility/spring/SpringBoot-aop-demo/>SpringBoot使用AOP的简单示例</a></li><li><a href=/zh/docs/utility/spring/%E5%9C%A8SpringBoot%E9%A1%B9%E7%9B%AE%E4%B8%AD%E4%BD%BF%E7%94%A8MockMvc%E8%BF%9B%E8%A1%8C%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/>在SpringBoot项目中使用MockMvc进行接口测试</a></li><li><a href=/zh/docs/utility/spring/spring-transaction-propagation/>spring声明式事务的使用</a></li></ul></li><li><input type=checkbox id=section-94c876711ff851f5a564bef513938730 class=toggle>
<label for=section-94c876711ff851f5a564bef513938730 class="flex justify-between"><a role=button>数据库</a></label><ul><li><input type=checkbox id=section-95d6c3eb8d9a1cf6b58bd1aaaeba338b class=toggle>
<label for=section-95d6c3eb8d9a1cf6b58bd1aaaeba338b class="flex justify-between"><a role=button>mysql</a></label><ul><li><a href=/zh/docs/utility/db/sql/1_%E5%9C%A8centOS%E4%B8%8A%E5%AE%89%E8%A3%85%E5%B9%B6%E9%85%8D%E7%BD%AEmysql%E6%95%B0%E6%8D%AE%E5%BA%93/>在centOS上安装并配置mysql数据库</a></li><li><a href=/zh/docs/utility/db/sql/2_MySQL%E7%9A%84%E5%87%A0%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0/>MySQL中的几个字符串处理函数</a></li><li><a href=/zh/docs/utility/db/sql/4_MySQL%E4%BA%8B%E5%8A%A1%E4%B8%8E%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/>MySQL事务与隔离级别</a></li><li><a href=/zh/docs/utility/db/sql/5_%E4%BD%BF%E7%94%A8mysql%E7%9A%84%E8%A1%8C%E9%94%81/>MySQL锁的简单使用</a></li></ul></li><li><input type=checkbox id=section-63fe101f19994c0885fcb00347eb6cc3 class=toggle>
<label for=section-63fe101f19994c0885fcb00347eb6cc3 class="flex justify-between"><a role=button>redis</a></label><ul><li><a href=/zh/docs/utility/db/redis/redis-all/>redis必知必会(转)</a></li><li><a href=/zh/docs/utility/db/redis/build-redis-sentinel/>Redis Sentinel高可用实现</a></li><li><a href=/zh/docs/utility/db/redis/deploy-redis-cluster-with-docker/>使用docker镜像快速搭建redis集群开发环境</a></li><li><a href=/zh/docs/utility/db/redis/bloom-filter/>布隆过滤器(转)</a></li></ul></li></ul></li><li><input type=checkbox id=section-6b3913c766697bc2d56c09ab1e4448be class=toggle>
<label for=section-6b3913c766697bc2d56c09ab1e4448be class="flex justify-between"><a href=/zh/docs/utility/algo/>算法讨论</a></label><ul><li><a href=/zh/docs/utility/algo/%E5%90%8C%E4%BD%99%E5%AE%9A%E7%90%86%E4%B8%8E%E4%BA%8C%E8%BF%9B%E5%88%B6%E8%A1%A5%E7%A0%81/>同余定理与二进制补码</a></li><li><a href=/zh/docs/utility/algo/%E7%A7%BB%E4%BD%8D%E8%BF%90%E7%AE%97/>移位运算</a></li><li><a href=/zh/docs/utility/algo/%E5%BC%82%E6%88%96%E8%BF%90%E7%AE%97/>异或运算</a></li><li><a href=/zh/docs/utility/algo/%E4%BD%8D%E8%BF%90%E7%AE%97%E7%9A%84%E5%B0%8F%E6%8A%80%E5%B7%A7/>位运算的小技巧</a></li><li><a href=/zh/docs/utility/algo/01%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/>背包问题2例</a></li></ul></li><li><input type=checkbox id=section-a0746926d02d10d842b9d0d7599deab2 class=toggle>
<label for=section-a0746926d02d10d842b9d0d7599deab2 class="flex justify-between"><a role=button>设计模式</a></label><ul><li><input type=checkbox id=section-7081c8a81314efcce430f0f34c6571eb class=toggle>
<label for=section-7081c8a81314efcce430f0f34c6571eb class="flex justify-between"><a role=button>创建型</a></label><ul><li><a href=/zh/docs/utility/design_pattern/creation/1_singleton/>单例模式</a></li><li><a href=/zh/docs/utility/design_pattern/creation/2_factory/>工厂模式</a></li><li><a href=/zh/docs/utility/design_pattern/creation/3_abstract_factory/>抽象工厂模式</a></li><li><a href=/zh/docs/utility/design_pattern/creation/4_builder/>建造者模式</a></li></ul></li><li><input type=checkbox id=section-1adf78989f86ee1fe83f52eacf19986b class=toggle>
<label for=section-1adf78989f86ee1fe83f52eacf19986b class="flex justify-between"><a role=button>行为型</a></label><ul><li><a href=/zh/docs/utility/design_pattern/behaviour/1_command/>命令模式</a></li><li><a href=/zh/docs/utility/design_pattern/behaviour/2_observer/>观察者模式</a></li><li><a href=/zh/docs/utility/design_pattern/behaviour/3_strategy/>策略模式</a></li><li><a href=/zh/docs/utility/design_pattern/behaviour/4_template_method/>模板方法模式</a></li></ul></li><li><input type=checkbox id=section-33da1b959d076efbdb019217cc6e3f10 class=toggle>
<label for=section-33da1b959d076efbdb019217cc6e3f10 class="flex justify-between"><a role=button>结构型</a></label><ul><li><a href=/zh/docs/utility/design_pattern/structure/3_decorator/>装饰者模式</a></li><li><a href=/zh/docs/utility/design_pattern/structure/2_adaptor/>适配器模式</a></li><li><a href=/zh/docs/utility/design_pattern/structure/4_%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F/>外观模式</a></li><li><a href=/zh/docs/utility/design_pattern/structure/proxy/>代理模式</a></li></ul></li></ul></li></ul></li><li class=book-section-flat><span>实用主义</span><ul><li><input type=checkbox id=section-e0ec0d59ffd2b577bbabd60a51de9e11 class=toggle>
<label for=section-e0ec0d59ffd2b577bbabd60a51de9e11 class="flex justify-between"><a role=button>定时任务</a></label><ul><li><a href=/zh/docs/misc/job/xxl-sharding-job/>在xxl-job中使用分片任务</a></li><li><a href=/zh/docs/misc/job/%E5%B8%B8%E8%A7%81cron%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%A4%BA%E4%BE%8B/>cron表达式速查</a></li></ul></li><li><input type=checkbox id=section-064c88e55046be49abd31400cc335650 class=toggle>
<label for=section-064c88e55046be49abd31400cc335650 class="flex justify-between"><a role=button>版本控制</a></label><ul><li><a href=/zh/docs/misc/vc/Git%E5%85%A5%E9%97%A82/>Git入门2</a></li><li><a href=/zh/docs/misc/vc/Git%E5%85%A5%E9%97%A81/>Git入门1</a></li></ul></li><li><input type=checkbox id=section-2310d269d19e5e48d57d2c9fd6bf08f5 class=toggle>
<label for=section-2310d269d19e5e48d57d2c9fd6bf08f5 class="flex justify-between"><a role=button>翻译文章</a></label><ul><li><a href=/zh/docs/misc/translations/use-springboot-messagesource/>在SpringBoot中使用MessageSource</a></li><li><a href=/zh/docs/misc/translations/guide-to-logback-cn/>使用Logback记录日志</a></li><li><a href=/zh/docs/misc/translations/how2use-printf/>使用printf格式化输出</a></li></ul></li></ul></li><li><input type=checkbox id=section-a1f49812013046640d0e076a1e89d016 class=toggle>
<label for=section-a1f49812013046640d0e076a1e89d016 class="flex justify-between"><a href=/zh/docs/course/>课程笔记</a></label><ul><li><input type=checkbox id=section-2c79e1dd600fed32eea69210704d659e class=toggle>
<label for=section-2c79e1dd600fed32eea69210704d659e class="flex justify-between"><a href=/zh/docs/course/operating_system_peking/>操作系统原理</a></label><ul><li><a href=/zh/docs/course/operating_system_peking/1_intro/>引论</a></li><li><a href=/zh/docs/course/operating_system_peking/2_env_and_logic/>操作系统运行环境与机制</a></li><li><a href=/zh/docs/course/operating_system_peking/3_processes_and_threads/>进程和线程模型</a></li></ul></li><li><input type=checkbox id=section-6cca2128c0876ba0cfa5ec5f3bd26c26 class=toggle>
<label for=section-6cca2128c0876ba0cfa5ec5f3bd26c26 class="flex justify-between"><a href=/zh/docs/course/algorithms_part1/>算法-第一部分</a></label><ul></ul></li></ul></li></ul><ul><li><a href=/zh/posts/>Blog</a></li><li><a href=/zh/friend/>Links</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>Rime中州韻輸入引擎安裝與簡單調試記錄</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#卸载rime输入法>卸载Rime输入法</a></li><li><a href=#安装rime输入法>安装Rime输入法</a></li><li><a href=#rime的基本配置文件>Rime的基本配置文件</a></li><li><a href=#定制化>定制化</a><ul><li><a href=#用户数据同步>用户数据同步</a></li><li><a href=#应用程序配置>应用程序配置</a></li><li><a href=#输入方案默认配置>输入方案默认配置</a></li><li><a href=#小鹤双拼输入方案配置>小鹤双拼输入方案配置</a><ul><li><a href=#快速输入emoji>快速输入emoji</a></li><li><a href=#中英文混输>中英文混输</a></li><li><a href=#模糊音>模糊音</a></li><li><a href=#自定义词典>自定义词典</a></li><li><a href=#日期时间动态输入>日期时间动态输入</a></li></ul></li></ul></li><li><a href=#其他杂项>其他杂项</a><ul><li><a href=#双拼显示双拼码不解析为全拼>双拼显示双拼码，不解析为全拼</a></li><li><a href=#快速输入id网址邮箱等>快速输入id，网址、邮箱等</a></li><li><a href=#使用拓展词库>使用拓展词库</a></li><li><a href=#查看部署的日志>查看部署的日志</a></li></ul></li></ul></li></ul></nav></aside></header><article class="markdown book-post"><h1><a href=/zh/posts/10_Rime%E4%B8%AD%E5%B7%9E%E9%9F%BB%E8%BC%B8%E5%85%A5%E5%BC%95%E6%93%8E%E5%AE%89%E8%A3%9D%E8%88%87%E7%B0%A1%E5%96%AE%E8%AA%BF%E6%95%99/>Rime中州韻輸入引擎安裝與簡單調試記錄</a></h1><h5>六月 6, 2024</h5><div><a href=/zh/categories/utility/>Utility</a></div><p><del>由于未知的原因</del><sup>很有可能是配置文件错误</sup>，使用几年多的Rime（squirrel）输入法发生异常。主要表现为小鹤双拼的键位映射异常（如键入‘budv’的候选词是‘病毒’而不是‘不对’。），检查了许久的配置文件，并没有发现明显异常。距离上次配置Rime已许久，很多细节都已经丢失。一番纠结后，决定再重新调试一下Rime，并作此记录。</p><h2 id=卸载rime输入法>卸载Rime输入法
<a class=anchor href=#%e5%8d%b8%e8%bd%bdrime%e8%be%93%e5%85%a5%e6%b3%95>#</a></h2><p>为了排除一些不必要的影响，从0开始，首先就要卸载掉Mac（11.7.2）上原本的Rime。卸载的方法也很简单。只是删除几个配置/文件即可：</p><ol><li>找到系统偏好设置->键盘->输入法，删除鼠须管</li></ol><center style=font-size:.8rem;font-style:italic;color:grey><img alt src=/img/rime/uninstall.png width=50%><p>从系统设置中移除鼠须管</center><ol start=2><li>删除配置文件夹
<code>sudo rm -rf ~/Library/Rime</code></li><li>删除主应用程序
<code>sudo rm -rf /Lirary/Input Method/Squirrel.app</code></li></ol><p>重启电脑。</p><p>若遇到Squirrel.app正在使用中，无法删除，则可能需要多次重启电脑。</p><h2 id=安装rime输入法>安装Rime输入法
<a class=anchor href=#%e5%ae%89%e8%a3%85rime%e8%be%93%e5%85%a5%e6%b3%95>#</a></h2><p>这里没有直接使用〔东风破〕，而是使用brew安装：</p><p><code>brew install --cast squirrel</code></p><p>完成后需要重新登入mac。</p><blockquote><p>此方式安装的squirrel版本是<code>0.15.2</code>，squirrel对MacOS 13以下支持的最高版本是<code>0.16.2</code></p><p>如果需要更新squirrel，参考
<a href=/zh/posts/16_update-homebrew-packages/>更新homebrew的安装包</a></p></blockquote><p>安装完成后的鼠须管没有任何配置，默认使用「朙月拼音」中文输入。</p><p>此时的Rime是可用的状态，但是还没有恢复到之前的使用状态。配置文件夹也是空空如也。</p><center style=font-size:.8rem;font-style:italic;color:grey><img src=/img/rime/install_config_file.png width=70%><p>初始化状态下的squirrel配置文件夹</center><h2 id=rime的基本配置文件>Rime的基本配置文件
<a class=anchor href=#rime%e7%9a%84%e5%9f%ba%e6%9c%ac%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6>#</a></h2><p>这时候就需要使用〔东风破〕来安装配置文件了。</p><p>首先需要安装基础配置以及<del>基础词汇</del></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone --depth <span style=color:#ae81ff>1</span> https://github.com/rime/plum.git
</span></span><span style=display:flex><span>cd plum
</span></span><span style=display:flex><span>bash rime-install prelude 
</span></span><span style=display:flex><span>bash rime-install essay
</span></span><span style=display:flex><span>bash rime-install luna-pinyin 
</span></span></code></pre></div><blockquote class="book-hint warning"><blockquote><p>essay可以不用安装，里面的有些词汇〔很奇怪〕。后续会使用搜狗的词库。</p></blockquote></blockquote><p>克隆「东风破」项目到本地，进入项目文件夹。接下来分别安装：</p><ul><li>基础配置文件</li><li>预设词汇和语言模型</li><li>朙月拼音（为了更好的输入体验，小鹤双拼依赖朙月拼音的词库）</li></ul><p>接下来安装双拼配置文件：</p><p><code>bash rime-install double-pinyin</code></p><p>一直到这里都并没有定制化。</p><p>不过，通过〔东风破〕，鼠须管增加了很多默认配置文件，这些配置文件在自定义输入方案的时候，都<strong>不要</strong>去更改。接下来的部分，才是定制化输入法的内容。</p><h2 id=定制化>定制化
<a class=anchor href=#%e5%ae%9a%e5%88%b6%e5%8c%96>#</a></h2><h3 id=用户数据同步>用户数据同步
<a class=anchor href=#%e7%94%a8%e6%88%b7%e6%95%b0%e6%8d%ae%e5%90%8c%e6%ad%a5>#</a></h3><p>编辑Rime配置文件夾下的<code>installation.yaml</code>，在文件最后加入以下内容：</p><p><code>sync_dir: '/absolute/path/you/want/to/sync'</code></p><p>手动创建<code>sync</code>文件夹，重新部署之后，即可同步用户数据。</p><blockquote><p>同步文件夾可以在硬盘任何地方，上述只是用作演示。</p></blockquote><center style=font-size:.8rem;font-style:italic;color:grey><img src=/img/rime/sync.png width=30%><p>同步鼠须管用户配置</center><p>定制化包括两部分，一是应用程序的配置，二是输入方案的配置。</p><h3 id=应用程序配置>应用程序配置
<a class=anchor href=#%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e9%85%8d%e7%bd%ae>#</a></h3><blockquote><p>📌Squirrel的配置支持「补丁」的方式，意即不用修改通过「plum」安装的默认配置，而是通过创建新的配置文件，以补丁的方式对其进行个性化设置。这样可以避免对默认配置文件作出修改而导致一系列难以排查的问题。</p><p>Squirrel的配置文件通常以<code>some_config.yaml</code>命名，如果要定制化，只需要新创建一个<code>some_config.custom.yaml</code>配置文件，然后以<code>patch</code>为开头，进行配置即可。</p></blockquote><p><code>squirrel.yaml</code>文件主要配置了鼠鬚管輸入法的一些基本配置，如候選詞的排布方向，字体大小，配色方案等等，是最基础的配置。</p><p>以下配置片段截取了一些重要的，仅供参考。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>patch</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>us_keyboard_layout</span>: <span style=color:#66d9ef>true</span>      <span style=color:#75715e># 鍵盤選項：應用美式鍵盤佈局</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#  show_notifications_when: growl_is_running  # 狀態通知，默認裝有Growl時顯示，也可設爲全開（always）全關（never）</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>style/horizontal</span>: <span style=color:#66d9ef>true</span>        <span style=color:#75715e># 候選窗横向顯示</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#  style/inline_preedit: false   # 非內嵌編碼行</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#  style/font_face: &#34;儷黑 Pro&#34;    # 我喜歡的字體名稱</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>style/font_point</span>: <span style=color:#ae81ff>14</span>          <span style=color:#75715e># 字號</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#  style/corner_radius: 10       # 窗口圓角半徑</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#  style/border_height: 0        # 窗口邊界高度，大於圓角半徑才有效果</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#  style/border_width: 0         # 窗口邊界寬度，大於圓角半徑才有效果</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>style/label_font_point</span>: <span style=color:#ae81ff>14</span>     <span style=color:#75715e># 候选词序号字号 建议和候选词字号一致</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>style/comment_font_point</span>: <span style=color:#ae81ff>14</span>   <span style=color:#75715e># 候选词的注释字号，建议一样或者小于候选词字号</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>style/color_scheme</span>: <span style=color:#ae81ff>cheese_blue    </span> <span style=color:#75715e># 選擇配色方案</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>style/corner_radius</span>: <span style=color:#ae81ff>5</span>        <span style=color:#75715e># 候选框圆角半径 </span>
</span></span></code></pre></div><p>如果安装完成squirrel之后，并没有发现<code>squirrel.yaml</code>这个配置文件，可以在安装包中找到。安装包的位置在<code>/Library/Input Method/Squirrel.app</code>，显示包内容就可拷贝一份放在配置文件夹里了（不拷贝也并无影响）。</p><p>自定义squirrel的这些基础配置只需要创建<code>squirrel.custom.yaml</code>配置文件，并修改部分默认配置就行了。</p><p>例如若觉得默认/自带的配色方案都不太喜欢，定制一份「专属」的配色方案也很简单，热心的社区提供了易用的
<a href=https://gjrobert.github.io/Rime-See-Me-squirrel/>调色板</a> 。</p><blockquote><p>实际上，上面的<code>cheese_blue</code>，就是我使用调色板自己捣鼓出来的。😁️</p></blockquote><p>某些特定的应用程序界面，可能只需要英文输入模式即可「如终端」，可以使用<code>app_options</code>标签对特定程序的输入方案进行定制：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>app_options</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>com.apple.Spotlight</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>ascii_mode</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>com.alfredapp.Alfred</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>ascii_mode</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>com.apple.Terminal</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>ascii_mode</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>no_inline</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#...</span>
</span></span></code></pre></div><p>上述配置已经包含在默认<code>squirrel.yaml</code>配置文件里了。</p><h3 id=输入方案默认配置>输入方案默认配置
<a class=anchor href=#%e8%be%93%e5%85%a5%e6%96%b9%e6%a1%88%e9%bb%98%e8%ae%a4%e9%85%8d%e7%bd%ae>#</a></h3><p><code>default.yaml</code>配置文件定义了输入方案选单、热键、候选字数量、punctuator〔谓句读处理器〕、recognizer〔谓规则匹配器〕等配置。</p><p>以下列出了<code>default.yaml</code>的配置项（部分）</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Rime default settings</span>
</span></span><span style=display:flex><span><span style=color:#75715e># encoding: utf-8</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>config_version</span>: <span style=color:#e6db74>&#39;0.40&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>schema_list</span>:  <span style=color:#75715e>#输入方案列表</span>
</span></span><span style=display:flex><span>  - <span style=color:#f92672>schema</span>: <span style=color:#ae81ff>luna_pinyin</span>
</span></span><span style=display:flex><span>  - <span style=color:#f92672>schema</span>: <span style=color:#ae81ff>luna_pinyin_simp</span>
</span></span><span style=display:flex><span>  - <span style=color:#f92672>schema</span>: <span style=color:#ae81ff>luna_pinyin_fluency</span>
</span></span><span style=display:flex><span>  - <span style=color:#f92672>schema</span>: <span style=color:#ae81ff>bopomofo</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>switcher</span>:  <span style=color:#75715e># 切换输入方案的快捷键</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>caption</span>: <span style=color:#ae81ff>〔方案選單〕</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>hotkeys</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>Control+grave </span> <span style=color:#75715e># ctrl + `</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>Control+Shift+grave  </span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>F4</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>save_options</span>: 
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>full_shape</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>ascii_punct</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>simplification</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>fold_options</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>abbreviate_options</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>option_list_separator</span>: <span style=color:#e6db74>&#39;／&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>menu</span>: 
</span></span><span style=display:flex><span>  <span style=color:#f92672>page_size</span>: <span style=color:#ae81ff>5</span>  <span style=color:#75715e>#候选词数目</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>punctuator</span>:  <span style=color:#75715e># 自定义符号输入</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>full_shape</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>__include</span>: <span style=color:#ae81ff>punctuation:/full_shape</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>half_shape</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>__include</span>: <span style=color:#ae81ff>punctuation:/half_shape</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>key_binder</span>:     <span style=color:#75715e># 按键绑定</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>bindings</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>__patch</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>key_bindings:/emacs_editing</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>key_bindings:/move_by_word_with_tab</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 输入识别与匹配，一般用来连贯地输入含有字母和数字的组合，如id、邮箱等 </span>
</span></span><span style=display:flex><span><span style=color:#75715e># 一般来说，如果在中文输入模式下，想输入「mamba24」，就需要先输入「mamba」</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#  然后「回车键」上屏，接着使用小键盘输入24，</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用特定的模式匹配，可以连贯地输入mamba24</span>
</span></span><span style=display:flex><span><span style=color:#f92672>recognizer</span>: 
</span></span><span style=display:flex><span>  <span style=color:#f92672>patterns</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>email</span>: <span style=color:#e6db74>&#34;^[A-Za-z][-_.0-9A-Za-z]*@.*$&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>uppercase</span>: <span style=color:#e6db74>&#34;[A-Z][-_+.&#39;0-9A-Za-z]*$&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>url</span>: <span style=color:#e6db74>&#34;^(www[.]|https?:|ftp[.:]|mailto:|file:).*$|^[a-z]+[.].+$&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>ascii_composer</span>:  <span style=color:#75715e># 设置caps、shift、control等键的作用</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>good_old_caps_lock</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>switch_key</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Shift_L</span>: <span style=color:#ae81ff>inline_ascii</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Shift_R</span>: <span style=color:#ae81ff>commit_text</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Control_L</span>: <span style=color:#ae81ff>noop</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Control_R</span>: <span style=color:#ae81ff>noop</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Caps_Lock</span>: <span style=color:#ae81ff>clear</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Eisu_toggle</span>: <span style=color:#ae81ff>clear</span>
</span></span></code></pre></div><p>定制化的主要配置集中在：</p><ol><li>schema_list：配置输入方案</li><li>switcher/hotkeys：配置方案切换的快捷键</li><li>ascii_composer/switch_key：配置中/英切换的快捷键</li><li>menu/page_size：配置候选词数目</li></ol><p>以下是<code>default.custom.yaml</code>配置示例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># 以补丁方式配置</span>
</span></span><span style=display:flex><span><span style=color:#f92672>patch</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>schema_list</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>schema</span>: <span style=color:#ae81ff>double_pinyin_flypy</span> <span style=color:#75715e># 仅保留小鹤双拼</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># - schema: luna_pinyin # 全拼</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># - schema: double_pinyin # 自然码</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>switcher</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>hotkeys</span>: <span style=color:#75715e>#输入选单切换快捷键</span>
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#34;Control+grave&#34;</span> <span style=color:#75715e># 注意是control+`，不是command+`</span>
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#34;Shift+F4&#34;</span>  <span style=color:#75715e># 避免按键冲突</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>save_options</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>full_shape</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>ascii_punct</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>simplification</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>zh_hans</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>emoji_suggestion</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>menu</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>page_size</span>: <span style=color:#ae81ff>6</span> <span style=color:#75715e>#候选字6个</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>ascii_composer</span>: <span style=color:#75715e># 设置caps、shift、control等键的作用</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>good_old_caps_lock</span>: <span style=color:#66d9ef>false</span> <span style=color:#75715e># 若为true，caps只切换大小写</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>switch_key</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>Caps_Lock</span>: <span style=color:#ae81ff>noop</span> <span style=color:#75715e># 仅仅切换大小写</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>Shift_L</span>: <span style=color:#ae81ff>commit_code</span> <span style=color:#75715e># 使用shift切换中英文</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>Shift_R</span>: <span style=color:#ae81ff>noop </span> <span style=color:#75715e># MAC系统无法区分Shift/Control_L和R，因此都是L </span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>Control_L</span>: <span style=color:#ae81ff>noop</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>Control_R</span>: <span style=color:#ae81ff>noop</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>Eisu_toggle</span>: <span style=color:#ae81ff>clear</span>
</span></span></code></pre></div><blockquote><p>mac原生输入法支持使用<code>caps</code>按键支持中/英切换，如若使用鼠须管，可以关闭这一偏好，让其仅作大小写切换。鼠须管使用<code>shift</code>切换〔中/英〕输入。</p></blockquote><h3 id=小鹤双拼输入方案配置>小鹤双拼输入方案配置
<a class=anchor href=#%e5%b0%8f%e9%b9%a4%e5%8f%8c%e6%8b%bc%e8%be%93%e5%85%a5%e6%96%b9%e6%a1%88%e9%85%8d%e7%bd%ae>#</a></h3><p>上文提到的配置都算是输入引擎的通用性配置，如果想真正定制输入法，还得从<code>double_pinyin_flypy.schema.yaml</code>入手，这是小鹤双拼的配置项。稍作「补丁」，便可以让它更好为输入服务。</p><p>关于<code>schema.yaml</code>内各配置项的具体解释，可以参照
<a href=https://github.com/LEOYoon-Tsaw/Rime_collections/blob/master/Rime_description.md>schema.yaml释义</a>，或者
<a href=https://github.com/rime/home/wiki/RimeWithSchemata#%E8%BC%B8%E5%85%A5%E6%B3%95%E5%BC%95%E6%93%8E%E8%88%87%E5%8A%9F%E8%83%BD%E7%B5%84%E4%BB%B6>输入法引擎与功能组件</a></p><p>通俗地讲，输入法引擎获取键盘的输入，通过一系列的分析、匹配、处理，找到合适的规则，然后根据规则显示最匹配的候选字。而输入引擎里，所谓的「processors」、「segmentors」、「translators」和「filters」不过是处理键盘输入的<strong>先后</strong>流程罢了。</p><p>而大部分的流程，都无需关心，需要处理的，仅仅是小部分。</p><p>此文对小鹤双拼的定制化，主要集中在4个方面：</p><ul><li>emoji的支持</li><li>中英文混输，这是很多网络输入法自带的功能</li><li>模糊音，南方人太需要这个了😳</li><li>自定义短语，可以快速输入邮箱之类</li><li>日期和时间快速输入（小插件）</li></ul><h4 id=快速输入emoji>快速输入emoji
<a class=anchor href=#%e5%bf%ab%e9%80%9f%e8%be%93%e5%85%a5emoji>#</a></h4><h5 id=使用plum安装指定输入法对emoji的支持>使用「plum」安装指定输入法对emoji的支持
<a class=anchor href=#%e4%bd%bf%e7%94%a8plum%e5%ae%89%e8%a3%85%e6%8c%87%e5%ae%9a%e8%be%93%e5%85%a5%e6%b3%95%e5%af%b9emoji%e7%9a%84%e6%94%af%e6%8c%81>#</a></h5><p><code>bash rime-install emoji:customize:double_pinyin_flypy</code></p><p>上述命令对〔小鹤双拼〕输入法安装了对emoji的支持，透过安装日志，其实可以看到实际上就是对<code>double_pinyin_flypy.custom.yaml</code>打上补丁。</p><center style=font-size:.8rem;font-style:italic;color:grey><img alt src=/img/rime/install_emoji.png width=100%><p>plum安装对小鹤双拼的emoji支持</center><p>查看配置文件，可以看到多了如下配置：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Rx: emoji:customize:schema=double_pinyin_flypy {  #emoji支持</span>
</span></span><span style=display:flex><span>  - <span style=color:#f92672>patch/+</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>__include</span>: <span style=color:#ae81ff>emoji_suggestion:/patch</span>
</span></span><span style=display:flex><span><span style=color:#75715e># }</span>
</span></span></code></pre></div><p>并且可以看到配置目录多了<code>emoji_suggestion.yaml</code>文件夹以及<code>opencc</code>文件夹里的「emoji词典」。</p><p>此时，输入法的选单有一些小小的变化，即加入了emoji建议的开关：</p><center style=font-size:.8rem;font-style:italic;color:grey><img alt=‘’ src=/img/rime/quick_setting.png width=70%><p>emoji支持安装完成后的输入法选单变化</center><p>调出此选单，按「6」可以选择开启或者关闭emoji建议。</p><p>这要得益于<code>emoji_suggestion.yaml</code>的配置，这个配置是通过上述「patch」成为了<code>double_pinyin_flypy.custom.yaml</code>的配置。</p><blockquote><p>基于这种方式，也可以很方便地为其他输入方案引入emoji输入的支持。</p></blockquote><p>重新部署后，就可以直接在候选词中输入emoji：</p><center style=font-size:.8rem;font-style:italic;color:grey><img alt src=/img/rime/emoji_suggestion1.png width=50%></center><blockquote><p>上图使用的小鹤双拼输入法，<em>不过拼音显示的内容是全拼</em>，这个〔缺陷〕会在后续配置中优化。</p></blockquote><p>需要注意的是，不同版本的系统可能对emoji的支持不同，可能会出现部分乱码，这样的候选字很影响输入体验。</p><center style=font-size:.8rem;font-style:italic;color:grey><img alt src=/img/rime/error_code.png width=50%></center><p>直接的处理方法，就是在<code>opencc</code>文件夹里面，找到对应的emoji字典，删掉里面乱码的内容🤭。</p><center style=font-size:.8rem;font-style:italic;color:grey><img alt src=/img/rime/opencc_emoji.png width=50%><p>emoji字典中可能会存在部分乱码的内容</center><h5 id=自定义符号上屏>自定义符号上屏
<a class=anchor href=#%e8%87%aa%e5%ae%9a%e4%b9%89%e7%ac%a6%e5%8f%b7%e4%b8%8a%e5%b1%8f>#</a></h5><p>除了上面的方法之外，还有一个可以快速输入emoji的功能，就是借助于「punctuator」和「recognizer」以及<code>symbols.yaml</code></p><p>「punctuator」是「句讀處理器，將單個字符按鍵直接映射爲文字符號」，简单来讲，它可以快速让符号上屏。</p><p>「recognizer」可以认作「匹配器」，用于匹配特定的输入码，使用的正则表达式进行匹配。</p><p>因此，配合使用，可以获得如下的效果：</p><center><img alt=‘’ src=/img/rime/symbols.png width=30%></center><p>即输入<code>/tq</code>，即可出现和「天气」有关的候选项。</p><p>如何做呢，首先需要如下配置：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>patch</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>punctuator</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>import_preset</span>: <span style=color:#ae81ff>symbols   </span> <span style=color:#75715e>#自定义表情输入 更多参见symbols.custom.yaml</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>recognizer</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>patterns</span>:
</span></span><span style=display:flex><span>            <span style=color:#f92672>punct</span>: <span style=color:#e6db74>&#34;^/([a-z]+|[0-9]0?)$&#34;</span>  <span style=color:#75715e># 自定义符号上屏</span>
</span></span></code></pre></div><p>默认地，<code>symbols.yaml</code>里定义了<strong>很多</strong>快速输入的符号，但是，我们可以定义更多，并且覆盖一些「略显繁琐」的默认配置。</p><p>在自定义的<code>symbols.custom.yaml</code>配置文件中，还可以做更多的定制：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>patch</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>punctuator/import_preset</span>: <span style=color:#ae81ff>symbols</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>punctuator/full_shape/+</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#39;/&#39; </span>: [ <span style=color:#ae81ff>／, ÷ ]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>punctuator/half_shape/+</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#39;/&#39; </span>: [ <span style=color:#e6db74>&#39;/&#39;</span>, <span style=color:#ae81ff>÷ ]</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#39;@&#39; </span>: <span style=color:#e6db74>&#39;@&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>punctuator/symbols/+</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;/fs&#34;: </span>[<span style=color:#ae81ff>½, ‰, ¼, ⅓, ⅔, ¾, ⅒ ]</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;/xh&#34;: </span>[ <span style=color:#ae81ff>＊, ×, ✱, ★, ☆, ✩, ✧, ❋, ❊, ❉, ❈, ❅, ✿, ✲]</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;/dq&#34;: </span>[<span style=color:#ae81ff>🌍,🌎,🌏,🌐,🌑,🌒,🌓,🌔,🌕,🌖,🌗,🌘]</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;/sg&#34;: </span>[<span style=color:#ae81ff>🍇,🍉,🍌,🍍,🍎,🍏,🍑,🍒,🍓,🍊,🍋,🫐,🍈,🥭,🥝]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>recognizer/patterns/punct</span>: <span style=color:#e6db74>&#39;^/([0-9]0?|[A-Za-z]+)$&#39;</span>
</span></span></code></pre></div><p>首先做的一件事情，就是覆盖了原来对于<code>/</code>符号的提示，默认的设置，输入<code>/</code>会显示<code>、</code>，<code>､</code>， <code>/</code>， <code>／〔全角〕</code>， <code>÷</code>候选项，可以根据喜好添加删除候选项即可。其次就是可以通过<code>/xx</code>的方式快捷输入emoji表情符号，对于常用emoji的人来说，这无异于天降甘霖啦😄️。</p><h4 id=中英文混输>中英文混输
<a class=anchor href=#%e4%b8%ad%e8%8b%b1%e6%96%87%e6%b7%b7%e8%be%93>#</a></h4><p>通常，在中文模式下，直接输入英文并带补全「提示」是非常有必要的功能。幸好，使用插件解决可以满足这个功能：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bash rime-install BlindingDark/rime-easy-en:customize:schema<span style=color:#f92672>=</span>double_pinyin_flypy
</span></span></code></pre></div><p>和emoji的支持一样，「东风破」的安装命令会在配置文件上打上「补丁」。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Rx: BlindingDark/rime-easy-en:customize:schema=double_pinyin_flypy </span>
</span></span><span style=display:flex><span><span style=color:#75715e>#中英文混输 Typing English when using Chinese input-method</span>
</span></span><span style=display:flex><span><span style=color:#f92672>__patch</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>patch/+</span>:
</span></span><span style=display:flex><span>         <span style=color:#f92672>__include</span>: <span style=color:#ae81ff>easy_en:/patch</span>
</span></span><span style=display:flex><span>         <span style=color:#75715e># 避免矫枉过正，true会把所有的字母组合当作英文作为候选词</span>
</span></span><span style=display:flex><span>         <span style=color:#f92672>easy_en/enable_sentence</span>: <span style=color:#66d9ef>false</span>   
</span></span></code></pre></div><p><code>easy_en/enable_sentence</code>开关的作用是，将任何输入的字符都作为英文候选，这样有点「过分敏感」了，通常需要将其设置为<code>false</code>。</p><p>重新部署后，即可在中文输入模式下，实现英文输入：</p><center><img alt src=/img/rime/mix_input.png width=50%></center><h4 id=模糊音>模糊音
<a class=anchor href=#%e6%a8%a1%e7%b3%8a%e9%9f%b3>#</a></h4><p>模糊音若是用的多了，候选词往往会更混乱。但是对于前后鼻音拎不清的南方人来讲，没有模糊音，输入后鼻音真的好模糊😭️！所以还是想想怎样让鼠须管支持模糊音吧。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>patch</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>speller/algebra</span>:                    <span style=color:#75715e>#模糊音配置（部分），使用哪个就取消注释</span>
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>erase/^xx$/                  </span> <span style=color:#75715e># 第一行保留</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>#- derive/^([zcs])h/$1/          # zh, ch, sh =&gt; z, c, s</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>#- derive/^([zcs])([^h])/$1h$2/     # z, c, s =&gt; zh, ch, sh</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># - derive/([aei])n$/$1ng/        # an =&gt; ang en =&gt; eng, in =&gt; ing</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># - derive/([aei])ng$/$1n/        # ang =&gt; an eng =&gt; en, ing =&gt; in </span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># - derive/([u])an$/$1ang/        # uan =&gt; uang</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># - derive/([u])ang$/$1an/        # uang =&gt; uan</span>
</span></span></code></pre></div><p>模糊音的配置项应位于〔拼写算法〕里，意为将在拼写时将<code>a</code>认作<code>b</code>。上面的配置文件列出了典型的模糊音配置。</p><p>由于双拼有自己的键位映射，所以在配置模糊音时，需要将模糊音配置在键位映射（全拼转双拼）之前，这样模糊音才能生效，并且需要
在<code>custom</code>配置里，模糊音配置之后，重新「抄写」一遍双拼的键盘映射配置。</p><p>具体的模糊音处理，参考
<a href=https://gist.github.com/lotem/2320943>模糊音定製模板</a>。</p><h4 id=自定义词典>自定义词典
<a class=anchor href=#%e8%87%aa%e5%ae%9a%e4%b9%89%e8%af%8d%e5%85%b8>#</a></h4><p>在鼠须管中使用自定义词典也非常简单。只需要在对应输入方案的<code>xxx.custom.yaml</code>配置文件中添加如下配置即可：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e>###使用自定义词典 custom_phrase.txt </span>
</span></span><span style=display:flex><span><span style=color:#f92672>patch</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>custom_phrase</span>: 
</span></span><span style=display:flex><span>    <span style=color:#f92672>dictionary</span>: <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>user_dict</span>: <span style=color:#ae81ff>custom_phrase</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>db_class</span>: <span style=color:#ae81ff>stabledb</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>enable_completion</span>: <span style=color:#66d9ef>false</span>    <span style=color:#75715e>#关闭逐键提示，精确匹配输入码的候选字即可</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>enable_sentence</span>: <span style=color:#66d9ef>false</span>      <span style=color:#75715e># 关闭输入法连打，此配置对双拼方案无效</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>initial_quality</span>: <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># 在translators列表配置第5项中加入配置，启用自定义词典</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;engine/translators/@5&#34;: </span><span style=color:#ae81ff>table_translator@custom_phrase  </span>
</span></span></code></pre></div><blockquote class="book-hint warning"><blockquote><p>上述配置中的<code>@5</code>意思是<code>@n</code>，意思是在列表项目配置中的第n个元素位设定新的值。常用用<code>@last</code>，表示在列表配置项最后加入配置。</p></blockquote></blockquote><p>此外，还需要一个名字为<code>custom_phrase.txt</code>的用户字典（在鼠须管的配置文件目录下），字典的内容格式为〔候选字\tab输入码\tab权重（可省略）〕，<code>\tab</code>表示各项以制表符（tab）分隔。</p><p>重新部署后，既可以使用自定义短语。自定义短语用来快速输入邮箱📮️地址非常有用。</p><center><img alt src=/img/rime/custom_phrase.png width=50%></center><h4 id=日期时间动态输入>日期时间动态输入
<a class=anchor href=#%e6%97%a5%e6%9c%9f%e6%97%b6%e9%97%b4%e5%8a%a8%e6%80%81%e8%be%93%e5%85%a5>#</a></h4><p>需要使用
<a href=https://github.com/hchunhui/librime-lua/wiki>这个</a>拓展。</p><p>具体的使用方法是：</p><ol><li>clone项目，找到项目中的<code>sample</code>文件夹，将<code>lua</code>文件夹和<code>rime.lua</code>文件拷贝到<code>User/xxx/Library/Rime</code>目录下。</li><li>修改使用的输入方案的配置文件，本文讨论的是<code>double_pinyin_flypy.custom.yaml</code>文件，添加如下配置：</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>engine/translators/+</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>lua_translator@date_translator        </span> <span style=color:#75715e># 日期候选 </span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>lua_translator@time_translator        </span> <span style=color:#75715e># 时间候选</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># 还有一些函数可以调用，参见rime.lua</span>
</span></span></code></pre></div><p>重新部署后，就可以在输入选框中快速键入当前日期和时间了。</p><center><img alt src=/img/rime/date_to_screen.png width=70%></center><h2 id=其他杂项>其他杂项
<a class=anchor href=#%e5%85%b6%e4%bb%96%e6%9d%82%e9%a1%b9>#</a></h2><h3 id=双拼显示双拼码不解析为全拼>双拼显示双拼码，不解析为全拼
<a class=anchor href=#%e5%8f%8c%e6%8b%bc%e6%98%be%e7%a4%ba%e5%8f%8c%e6%8b%bc%e7%a0%81%e4%b8%8d%e8%a7%a3%e6%9e%90%e4%b8%ba%e5%85%a8%e6%8b%bc>#</a></h3><p>在默认配置下，即使使用小鹤双拼方案，在键入输入码之后，屏上显示的依然是全拼，就像这样：</p><center><img alt src=/img/rime/full_pinyin.png width=50%></center><p>对于习惯双拼上屏的用户来说，可能有一点别扭，此时，需要额外的配置，来使屏上直接显示键入码，而不「翻译」为全拼：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>patch</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>translator/preedit_format</span>: []         <span style=color:#75715e>#双拼显示双拼码，不解析为全拼</span>
</span></span></code></pre></div><p>重新部署后生效。</p><center><img src=/img/rime/double_pinyin.png alt=屏上显示为双拼 width=50%></center><h3 id=快速输入id网址邮箱等>快速输入id，网址、邮箱等
<a class=anchor href=#%e5%bf%ab%e9%80%9f%e8%be%93%e5%85%a5id%e7%bd%91%e5%9d%80%e9%82%ae%e7%ae%b1%e7%ad%89>#</a></h3><p>前文已经提到过，<code>recognizer/patterns</code>可以用来匹配输入码，适合进行快速处理。利用这个机制，除了可以通过使用<code>/bq</code>快速输入表情之外，还可以做一些特别的事情：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>patch</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>recognizer</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>patterns</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>punct</span>: <span style=color:#e6db74>&#34;^/([a-z]+|[0-9]0?)$&#34;</span>  <span style=color:#75715e># 自定义符号上屏</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>email</span>: <span style=color:#e6db74>&#34;^[A-Za-z][-_.0-9A-Za-z]*@.*$&#34;</span>   <span style=color:#75715e># email快速上屏</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>uppercase</span>: <span style=color:#e6db74>&#34;[A-Z][-_+.&#39;0-9A-Za-z]*$&#34;</span>    <span style=color:#75715e># 大写英文直接上屏</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e>#网址快速上屏</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>url</span>: <span style=color:#e6db74>&#34;^(www[.]|https?:|ftp[.:]|mailto:|file:).*$|^[a-z]+[.].+$&#34;</span>  
</span></span><span style=display:flex><span>      <span style=color:#f92672>mypattern</span>: <span style=color:#e6db74>&#34;^icool[0-9]+$&#34;</span>     <span style=color:#75715e># 直接输入id，而不需要先上屏icool</span>
</span></span></code></pre></div><p>在中文输入模式下，如果要输入网址，邮箱等全英文的「字符串」，在不切换为英文输入模式的情况下，一般需要多次上屏操作，往往不能一次性连续的输入。而借助<code>recognizer/patterns</code>，则可以实现连续输入一次上屏。</p><p>还可以自定义匹配模式，比如带数字的id，比如<code>icool123</code>，上面的最后一项自定义配置即可快速输入，不需要2次上屏。</p><p>在注释掉上述<code>url</code> pattern后，在中文模式下不能快速输入网址，在输入<code>www</code>之后，接<code>.</code>会直接上屏：</p><center style=font-size:.8rem;font-style:italic;color:grey><img src=/img/rime/a_1.gif alt=www直接上屏了 width=50%><p>输入www。则会直接上屏</center><p>而在取消注释（即启用pattern）后，在中文输入模式下，可以直接输入网址：</p><center style=font-size:.8rem;font-style:italic;color:grey><img src=/img/rime/a_2.gif alt=快速输入网址 width=50%><p>启用模式匹配后，输入www。会匹配模式而不上屏</center><p>其他匹配模式效果一致，不再一一例证。</p><h3 id=使用拓展词库>使用拓展词库
<a class=anchor href=#%e4%bd%bf%e7%94%a8%e6%8b%93%e5%b1%95%e8%af%8d%e5%ba%93>#</a></h3><p>由于自带的<code>luna_pinyin.dict.yaml</code>词库实在有些贫瘠，我们可以使用拓展词库，以搜狗细胞词库为最佳。</p><p>本文不讨论如何自己动手制作细胞词库了，感兴趣可以参考
<a href=https://sspai.com/post/84373>Rime配置指南</a>。</p><p>使用起来也很简单，只需要先
<a href=https://github.com/ssnhd/rime>从这里</a>搞个现成的词库<code>luna_pinyin.sogou.dict.yaml</code>，放在Rime的配置目录下，然后在对应的自定义输入方案中使用该词库即可，本例中对应的配置文件是<code>double_pinyin_flypy.custom.yaml</code>，在其中添加如下配置：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>translator/dictionary</span>: <span style=color:#ae81ff>luna_pinyin.extended</span> <span style=color:#75715e>#使用拓充词库</span>
</span></span></code></pre></div><p>如上所示，我们还需要一个<code>luna_pinyin.extend.yaml</code>配置，如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>luna_pinyin.extended     </span> <span style=color:#75715e># 词库名</span>
</span></span><span style=display:flex><span><span style=color:#f92672>version</span>: <span style=color:#e6db74>&#34;2021.02.07&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>sort</span>: <span style=color:#ae81ff>by_weight         </span>
</span></span><span style=display:flex><span><span style=color:#f92672>use_preset_vocabulary</span>: <span style=color:#66d9ef>true</span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import_tables</span>:
</span></span><span style=display:flex><span>  - <span style=color:#ae81ff>luna_pinyin</span>
</span></span><span style=display:flex><span>  - <span style=color:#ae81ff>luna_pinyin.sogou </span> <span style=color:#75715e>#引入搜狗词库</span>
</span></span></code></pre></div><p>重新部署即可。</p><h3 id=查看部署的日志>查看部署的日志
<a class=anchor href=#%e6%9f%a5%e7%9c%8b%e9%83%a8%e7%bd%b2%e7%9a%84%e6%97%a5%e5%bf%97>#</a></h3><p>如果想知道配置自定义配置为什么没有生效，查看部署日志文件或许是一个可行的办法。</p><p>以macOS 11.7.2为例，日志文件存放在<code>/var/folders/9v/v3ws_2g90cg9_ntr7rmc8kpc0000gn/T</code>目录下。 三个日志文件分别是：</p><ul><li>rime.squirrel.ERROR， 错误日志，主要查看</li><li>rime.squirrel.INFO， 信息级别，记录内容较多</li><li>rime.squirrel.WARNING，警告级别，可能会记录一些不影响使用的警告信息，如自定义配置缺失等</li></ul><p>可以通过<code>echo $TMPDIR</code>来快速定位日志文件的目录。</p><hr><p>References:</p><ul><li><a href=https://www.cnblogs.com/Bob-wei/p/5010143.html>如何卸载Rime输入法</a></li><li><a href="https://github.com/rime/plum?tab=readme-ov-file">东风破</a></li><li><a href=https://rime.im/download/>安装Rime</a></li><li><a href=https://gist.github.com/2290714>squirrel.custom配置样例</a></li><li><a href=https://gjrobert.github.io/Rime-See-Me-squirrel/>squirrel-调色板</a></li><li><a href=https://github.com/BlindingDark/rime-easy-en>中英文混输</a></li><li><a href=https://gist.github.com/lotem/2320943>模糊音配置参考</a></li><li><a href=https://github.com/hchunhui/librime-lua/wiki>日期动态输入</a></li><li><a href=https://github.com/LEOYoon-Tsaw/Rime_collections/blob/master/Rime_description.md>schema.yaml配置文件解释</a></li><li><a href=https://github.com/rime/home/wiki/RimeWithSchemata#rime-%E4%B8%AD%E7%9A%84%E6%95%B8%E6%93%9A%E6%96%87%E4%BB%B6%E5%88%86%E4%BD%88%E5%8F%8A%E4%BD%9C%E7%94%A8>Rime方案設計（中階）</a></li><li><a href=https://github.com/rime/home/wiki/RimeWithSchemata#%E9%97%9C%E6%96%BC%E8%AA%BF%E8%A9%A6>鼠须管的部署日志</a></li><li><a href=https://github.com/ssnhd/rime>开箱即用的Rime配置</a></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//pkendlessriver.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#卸载rime输入法>卸载Rime输入法</a></li><li><a href=#安装rime输入法>安装Rime输入法</a></li><li><a href=#rime的基本配置文件>Rime的基本配置文件</a></li><li><a href=#定制化>定制化</a><ul><li><a href=#用户数据同步>用户数据同步</a></li><li><a href=#应用程序配置>应用程序配置</a></li><li><a href=#输入方案默认配置>输入方案默认配置</a></li><li><a href=#小鹤双拼输入方案配置>小鹤双拼输入方案配置</a><ul><li><a href=#快速输入emoji>快速输入emoji</a></li><li><a href=#中英文混输>中英文混输</a></li><li><a href=#模糊音>模糊音</a></li><li><a href=#自定义词典>自定义词典</a></li><li><a href=#日期时间动态输入>日期时间动态输入</a></li></ul></li></ul></li><li><a href=#其他杂项>其他杂项</a><ul><li><a href=#双拼显示双拼码不解析为全拼>双拼显示双拼码，不解析为全拼</a></li><li><a href=#快速输入id网址邮箱等>快速输入id，网址、邮箱等</a></li><li><a href=#使用拓展词库>使用拓展词库</a></li><li><a href=#查看部署的日志>查看部署的日志</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>